Search.setIndex({"alltitles": {"API Reference": [[8, null]], "API Reference:": [[30, null]], "AlignValues Objects": [[0, "alignvalues-objects"]], "Attributes": [[2, "attributes"], [3, "attributes"], [5, "attributes"], [6, "attributes"], [10, "attributes"], [11, "attributes"], [12, "attributes"], [13, "attributes"], [14, "attributes"], [15, "attributes"], [16, "attributes"], [18, "attributes"], [19, "attributes"], [20, "attributes"], [21, "attributes"], [22, "attributes"], [23, "attributes"], [24, "attributes"], [25, "attributes"], [26, "attributes"], [29, "attributes"]], "Classes": [[1, "classes"], [4, "classes"], [9, "classes"], [17, "classes"], [29, "classes"]], "Functions": [[3, "functions"], [5, "functions"], [6, "functions"], [7, "functions"], [10, "functions"], [11, "functions"], [12, "functions"], [13, "functions"], [14, "functions"], [15, "functions"], [17, "functions"], [19, "functions"], [20, "functions"], [21, "functions"], [22, "functions"], [23, "functions"], [24, "functions"], [25, "functions"], [26, "functions"], [27, "functions"], [28, "functions"], [29, "functions"]], "MergeProcessor Objects": [[0, "mergeprocessor-objects"]], "Module Contents": [[1, "module-contents"], [2, "module-contents"], [3, "module-contents"], [4, "module-contents"], [5, "module-contents"], [6, "module-contents"], [7, "module-contents"], [9, "module-contents"], [10, "module-contents"], [11, "module-contents"], [12, "module-contents"], [13, "module-contents"], [14, "module-contents"], [15, "module-contents"], [16, "module-contents"], [17, "module-contents"], [18, "module-contents"], [19, "module-contents"], [20, "module-contents"], [21, "module-contents"], [22, "module-contents"], [23, "module-contents"], [24, "module-contents"], [25, "module-contents"], [26, "module-contents"], [27, "module-contents"], [28, "module-contents"], [29, "module-contents"]], "RewardProcessor Objects": [[0, "rewardprocessor-objects"]], "TASK_NAME": [[0, "task-name"]], "Welcome to MAP Documentation": [[30, null]], "add_reward": [[0, "add-reward"]], "alignValues": [[0, "alignvalues"], [1, null]], "build_dataset": [[0, "build-dataset"]], "collect_multiple_results": [[0, "collect-multiple-results"]], "conf": [[2, null]], "convert_ppo_modelname_to_huggingface_valid": [[0, "convert-ppo-modelname-to-huggingface-valid"]], "genDPOdata": [[0, "gendpodata"], [3, null]], "gen_mixed_preference_data": [[0, "gen-mixed-preference-data"]], "gen_rand_MAP_lambda": [[0, "gen-rand-map-lambda"]], "gendata": [[0, "gendata"], [4, null]], "gendataGUI": [[0, "gendatagui"], [5, null]], "generate-alpacaFinetune": [[0, "generate-alpacafinetune"], [6, null]], "generateGUI_from_original_model": [[0, "generategui-from-original-model"]], "generate_value_aligned": [[0, "generate-value-aligned"]], "getDPOsoup": [[0, "getdposoup"], [7, null]], "mergeProcessor": [[0, "mergeprocessor"], [9, null]], "merge_added_rewards": [[0, "merge-added-rewards"]], "merge_gendata_bypattern": [[0, "merge-gendata-bypattern"]], "plot_cal_winrate": [[0, "plot-cal-winrate"], [10, null]], "plot_helpful_vs_harmless": [[0, "plot-helpful-vs-harmless"]], "plot_hist": [[0, "plot-hist"]], "plot_hist_positive": [[0, "plot-hist-positive"]], "plot_lambdas_2D_subplots": [[0, "plot-lambdas-2d-subplots"]], "plot_lambdas_3D": [[0, "plot-lambdas-3d"]], "plot_matrix_scatterplot": [[0, "plot-matrix-scatterplot"]], "plot_pairwise_pareto": [[0, "plot-pairwise-pareto"], [11, null]], "plot_radar_tabresults": [[0, "plot-radar-tabresults"], [12, null]], "plot_rand_lambda_MAP_region": [[0, "plot-rand-lambda-map-region"], [13, null]], "plot_reward_dist": [[0, "plot-reward-dist"], [14, null]], "plot_sequential_baseline": [[0, "plot-sequential-baseline"], [15, null]], "plot_tab_in_quantiles": [[0, "plot-tab-in-quantiles"], [16, null]], "preprocess_data": [[0, "preprocess-data"]], "render_latex_table": [[0, "render-latex-table"]], "rewardProcessor": [[0, "rewardprocessor"], [17, null]], "rewardTrainer": [[0, "rewardtrainer"], [18, null]], "save_results_to_csv": [[0, "save-results-to-csv"]], "save_results_to_text": [[0, "save-results-to-text"]], "soup": [[0, "soup"]], "submit_DPO_job": [[0, null], [19, null]], "submit_MAP-DPO-PPO_comparison": [[0, "submit-map-dpo-ppo-comparison"], [20, null]], "submit_MC-aligned_pipeline": [[0, "submit-mc-aligned-pipeline"], [21, null]], "submit_PPO-aligned_pipeline": [[0, "submit-ppo-aligned-pipeline"], [22, null]], "submit_jobs": [[0, "submit-jobs"], [23, null]], "submit_perplexity_correction": [[0, "submit-perplexity-correction"], [24, null]], "submit_soup": [[0, "submit-soup"], [25, null]], "tokenValueDecoder": [[0, "tokenvaluedecoder"], [26, null]], "trainDPO": [[0, "traindpo"], [27, null]], "trainPPO": [[0, "trainppo"], [28, null]], "utils": [[0, "utils"], [29, null]]}, "docnames": ["api", "autoapi/alignValues/index", "autoapi/conf/index", "autoapi/genDPOdata/index", "autoapi/gendata/index", "autoapi/gendataGUI/index", "autoapi/generate-alpacaFinetune/index", "autoapi/getDPOsoup/index", "autoapi/index", "autoapi/mergeProcessor/index", "autoapi/plot_cal_winrate/index", "autoapi/plot_pairwise_pareto/index", "autoapi/plot_radar_tabresults/index", "autoapi/plot_rand_lambda_MAP_region/index", "autoapi/plot_reward_dist/index", "autoapi/plot_sequential_baseline/index", "autoapi/plot_tab_in_quantiles/index", "autoapi/rewardProcessor/index", "autoapi/rewardTrainer/index", "autoapi/submit_DPO_job/index", "autoapi/submit_MAP-DPO-PPO_comparison/index", "autoapi/submit_MC-aligned_pipeline/index", "autoapi/submit_PPO-aligned_pipeline/index", "autoapi/submit_jobs/index", "autoapi/submit_perplexity_correction/index", "autoapi/submit_soup/index", "autoapi/tokenValueDecoder/index", "autoapi/trainDPO/index", "autoapi/trainPPO/index", "autoapi/utils/index", "index"], "envversion": {"sphinx": 64, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["api.md", "autoapi/alignValues/index.rst", "autoapi/conf/index.rst", "autoapi/genDPOdata/index.rst", "autoapi/gendata/index.rst", "autoapi/gendataGUI/index.rst", "autoapi/generate-alpacaFinetune/index.rst", "autoapi/getDPOsoup/index.rst", "autoapi/index.rst", "autoapi/mergeProcessor/index.rst", "autoapi/plot_cal_winrate/index.rst", "autoapi/plot_pairwise_pareto/index.rst", "autoapi/plot_radar_tabresults/index.rst", "autoapi/plot_rand_lambda_MAP_region/index.rst", "autoapi/plot_reward_dist/index.rst", "autoapi/plot_sequential_baseline/index.rst", "autoapi/plot_tab_in_quantiles/index.rst", "autoapi/rewardProcessor/index.rst", "autoapi/rewardTrainer/index.rst", "autoapi/submit_DPO_job/index.rst", "autoapi/submit_MAP-DPO-PPO_comparison/index.rst", "autoapi/submit_MC-aligned_pipeline/index.rst", "autoapi/submit_PPO-aligned_pipeline/index.rst", "autoapi/submit_jobs/index.rst", "autoapi/submit_perplexity_correction/index.rst", "autoapi/submit_soup/index.rst", "autoapi/tokenValueDecoder/index.rst", "autoapi/trainDPO/index.rst", "autoapi/trainPPO/index.rst", "autoapi/utils/index.rst", "index.md"], "indexentries": {"__call__() (utils.lengthsampler method)": [[29, "utils.LengthSampler.__call__", false]], "_assess_postalignment_singlevalue() (rewardprocessor.rewardprocessor method)": [[17, "rewardProcessor.RewardProcessor._assess_postalignment_singlevalue", false]], "add_reward() (rewardprocessor.rewardprocessor method)": [[17, "rewardProcessor.RewardProcessor.add_reward", false]], "alignvalues": [[1, "module-alignValues", false]], "alignvalues (class in alignvalues)": [[1, "alignValues.AlignValues", false]], "all_supported_values (in module utils)": [[29, "utils.ALL_SUPPORTED_VALUES", false]], "assess_original_value() (rewardprocessor.rewardprocessor method)": [[17, "rewardProcessor.RewardProcessor.assess_original_value", false]], "assess_postalignment_multivalue() (rewardprocessor.rewardprocessor method)": [[17, "rewardProcessor.RewardProcessor.assess_postalignment_multivalue", false]], "author (in module conf)": [[2, "conf.author", false]], "autoapi_dirs (in module conf)": [[2, "conf.autoapi_dirs", false]], "base_model_file (in module plot_cal_winrate)": [[10, "plot_cal_winrate.base_model_file", false]], "basemodel_filename (gendata.textgeneration attribute)": [[4, "gendata.TextGeneration.basemodel_filename", false]], "basemodel_name (gendata.textgeneration attribute)": [[4, "gendata.TextGeneration.basemodel_name", false]], "basemodel_name (in module submit_dpo_job)": [[19, "submit_DPO_job.basemodel_name", false]], "basemodel_name (in module submit_jobs)": [[23, "submit_jobs.basemodel_name", false]], "basemodel_name (in module submit_mc-aligned_pipeline)": [[21, "submit_MC-aligned_pipeline.basemodel_name", false]], "basemodel_name (in module submit_perplexity_correction)": [[24, "submit_perplexity_correction.basemodel_name", false]], "basemodel_name (in module submit_soup)": [[25, "submit_soup.basemodel_name", false]], "batch_size (rewardprocessor.rewardprocessor attribute)": [[17, "rewardProcessor.RewardProcessor.batch_size", false]], "build_dataset() (in module trainppo)": [[28, "trainPPO.build_dataset", false]], "cal_coherence() (in module utils)": [[29, "utils.cal_coherence", false]], "cal_diversity() (in module utils)": [[29, "utils.cal_diversity", false]], "cal_gpt2_harmless_probabilities() (in module utils)": [[29, "utils.cal_gpt2_harmless_probabilities", false]], "cal_gpt2_helpful_probabilities() (in module utils)": [[29, "utils.cal_gpt2_helpful_probabilities", false]], "cal_harmless_probabilities() (in module utils)": [[29, "utils.cal_harmless_probabilities", false]], "cal_humor_probabilities() (in module utils)": [[29, "utils.cal_humor_probabilities", false]], "cal_log_perplexity() (in module utils)": [[29, "utils.cal_log_perplexity", false]], "cal_positive_sentiment() (in module utils)": [[29, "utils.cal_positive_sentiment", false]], "calculate_win_rate() (in module plot_cal_winrate)": [[10, "plot_cal_winrate.calculate_win_rate", false]], "categories (in module plot_radar_tabresults)": [[12, "plot_radar_tabresults.categories", false]], "categories (in module plot_sequential_baseline)": [[15, "plot_sequential_baseline.categories", false]], "clean_and_trim_to_last_sentence() (in module utils)": [[29, "utils.clean_and_trim_to_last_sentence", false]], "collator() (in module trainppo)": [[28, "trainPPO.collator", false]], "collect_multiple_results() (in module plot_cal_winrate)": [[10, "plot_cal_winrate.collect_multiple_results", false]], "commands (in module submit_map-dpo-ppo_comparison)": [[20, "submit_MAP-DPO-PPO_comparison.commands", false]], "compute_rep_n() (in module utils)": [[29, "utils.compute_rep_n", false]], "conf": [[2, "module-conf", false]], "convert_ppo_modelname_to_huggingface_valid() (in module utils)": [[29, "utils.convert_ppo_modelname_to_huggingface_valid", false]], "copyright (in module conf)": [[2, "conf.copyright", false]], "data (in module plot_sequential_baseline)": [[15, "plot_sequential_baseline.data", false]], "data (in module plot_tab_in_quantiles)": [[16, "plot_tab_in_quantiles.data", false]], "data_name (gendata.textgeneration attribute)": [[4, "gendata.TextGeneration.data_name", false]], "data_source (in module gendpodata)": [[3, "genDPOdata.data_source", false]], "device (gendata.textgeneration attribute)": [[4, "gendata.TextGeneration.device", false]], "device (in module gendatagui)": [[5, "gendataGUI.device", false]], "device (in module generate-alpacafinetune)": [[6, "generate-alpacaFinetune.device", false]], "device (in module tokenvaluedecoder)": [[26, "tokenValueDecoder.device", false]], "devices (in module utils)": [[29, "utils.devices", false]], "dual_objective() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.dual_objective", false]], "ensure_dir() (in module submit_dpo_job)": [[19, "submit_DPO_job.ensure_dir", false]], "ensure_dir() (in module submit_jobs)": [[23, "submit_jobs.ensure_dir", false]], "ensure_dir() (in module submit_map-dpo-ppo_comparison)": [[20, "submit_MAP-DPO-PPO_comparison.ensure_dir", false]], "ensure_dir() (in module submit_mc-aligned_pipeline)": [[21, "submit_MC-aligned_pipeline.ensure_dir", false]], "ensure_dir() (in module submit_perplexity_correction)": [[24, "submit_perplexity_correction.ensure_dir", false]], "ensure_dir() (in module submit_ppo-aligned_pipeline)": [[22, "submit_PPO-aligned_pipeline.ensure_dir", false]], "ensure_dir() (in module submit_soup)": [[25, "submit_soup.ensure_dir", false]], "exclude_patterns (in module conf)": [[2, "conf.exclude_patterns", false]], "extensions (in module conf)": [[2, "conf.extensions", false]], "file_path (alignvalues.alignvalues attribute)": [[1, "alignValues.AlignValues.file_path", false]], "file_path (gendata.textgeneration attribute)": [[4, "gendata.TextGeneration.file_path", false]], "file_path (in module plot_reward_dist)": [[14, "plot_reward_dist.file_path", false]], "file_path (rewardprocessor.rewardprocessor attribute)": [[17, "rewardProcessor.RewardProcessor.file_path", false]], "find_pareto_by_interpolation() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.find_pareto_by_interpolation", false]], "find_pareto_by_onevalue() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.find_pareto_by_oneValue", false]], "gen_mixed_preference_data() (in module gendpodata)": [[3, "genDPOdata.gen_mixed_preference_data", false]], "gen_rand_map_lambda() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.gen_rand_MAP_lambda", false]], "gendata": [[4, "module-gendata", false]], "gendatagui": [[5, "module-gendataGUI", false]], "gendpodata": [[3, "module-genDPOdata", false]], "generate-alpacafinetune": [[6, "module-generate-alpacaFinetune", false]], "generate_from_mc_aligned_model() (gendata.textgeneration method)": [[4, "gendata.TextGeneration.generate_from_MC_aligned_model", false]], "generate_from_original_model() (gendata.textgeneration method)": [[4, "gendata.TextGeneration.generate_from_original_model", false]], "generate_value_aligned() (in module tokenvaluedecoder)": [[26, "tokenValueDecoder.generate_value_aligned", false]], "generated_text (in module tokenvaluedecoder)": [[26, "tokenValueDecoder.generated_text", false]], "generategui_from_mc_aligned_model() (in module gendatagui)": [[5, "gendataGUI.generateGUI_from_MC_aligned_model", false]], "generategui_from_original_model() (in module gendatagui)": [[5, "gendataGUI.generateGUI_from_original_model", false]], "generation_config (gendata.textgeneration attribute)": [[4, "gendata.TextGeneration.generation_config", false]], "gengaussian() (in module rewardprocessor)": [[17, "rewardProcessor.genGaussian", false]], "get_device() (in module utils)": [[29, "utils.get_device", false]], "get_model_and_tokenizer() (in module utils)": [[29, "utils.get_model_and_tokenizer", false]], "get_nvidia_smi_info() (in module utils)": [[29, "utils.get_nvidia_smi_info", false]], "get_prompts_from_anthropic_harmless() (in module utils)": [[29, "utils.get_prompts_from_Anthropic_harmless", false]], "get_prompts_from_imdb() (in module utils)": [[29, "utils.get_prompts_from_imdb", false]], "get_reward() (in module utils)": [[29, "utils.get_reward", false]], "getdposoup": [[7, "module-getDPOsoup", false]], "html_css_files (in module conf)": [[2, "conf.html_css_files", false]], "html_js_files (in module conf)": [[2, "conf.html_js_files", false]], "html_show_sourcelink (in module conf)": [[2, "conf.html_show_sourcelink", false]], "html_show_sphinx (in module conf)": [[2, "conf.html_show_sphinx", false]], "html_theme (in module conf)": [[2, "conf.html_theme", false]], "html_theme_options (in module conf)": [[2, "conf.html_theme_options", false]], "iface (in module gendatagui)": [[5, "gendataGUI.iface", false]], "imgmath_font_size (in module conf)": [[2, "conf.imgmath_font_size", false]], "imgmath_image_format (in module conf)": [[2, "conf.imgmath_image_format", false]], "lengthsampler (class in utils)": [[29, "utils.LengthSampler", false]], "llama2_path (in module tokenvaluedecoder)": [[26, "tokenValueDecoder.llama2_path", false]], "main() (in module generate-alpacafinetune)": [[6, "generate-alpacaFinetune.main", false]], "main() (in module trainppo)": [[28, "trainPPO.main", false]], "map_results (in module plot_sequential_baseline)": [[15, "plot_sequential_baseline.map_results", false]], "max_length (utils.lengthsampler attribute)": [[29, "utils.LengthSampler.max_length", false]], "max_new_tokens (gendata.textgeneration attribute)": [[4, "gendata.TextGeneration.max_new_tokens", false]], "merge_added_rewards() (mergeprocessor.mergeprocessor method)": [[9, "mergeProcessor.MergeProcessor.merge_added_rewards", false]], "merge_gendata_bypattern() (mergeprocessor.mergeprocessor method)": [[9, "mergeProcessor.MergeProcessor.merge_gendata_bypattern", false]], "mergeprocessor": [[9, "module-mergeProcessor", false]], "mergeprocessor (class in mergeprocessor)": [[9, "mergeProcessor.MergeProcessor", false]], "min_length (utils.lengthsampler attribute)": [[29, "utils.LengthSampler.min_length", false]], "model (in module plot_pairwise_pareto)": [[11, "plot_pairwise_pareto.model", false]], "model (in module tokenvaluedecoder)": [[26, "tokenValueDecoder.model", false]], "model_setting (in module plot_sequential_baseline)": [[15, "plot_sequential_baseline.model_setting", false]], "module": [[1, "module-alignValues", false], [2, "module-conf", false], [3, "module-genDPOdata", false], [4, "module-gendata", false], [5, "module-gendataGUI", false], [6, "module-generate-alpacaFinetune", false], [7, "module-getDPOsoup", false], [9, "module-mergeProcessor", false], [10, "module-plot_cal_winrate", false], [11, "module-plot_pairwise_pareto", false], [12, "module-plot_radar_tabresults", false], [13, "module-plot_rand_lambda_MAP_region", false], [14, "module-plot_reward_dist", false], [15, "module-plot_sequential_baseline", false], [16, "module-plot_tab_in_quantiles", false], [17, "module-rewardProcessor", false], [18, "module-rewardTrainer", false], [19, "module-submit_DPO_job", false], [20, "module-submit_MAP-DPO-PPO_comparison", false], [21, "module-submit_MC-aligned_pipeline", false], [22, "module-submit_PPO-aligned_pipeline", false], [23, "module-submit_jobs", false], [24, "module-submit_perplexity_correction", false], [25, "module-submit_soup", false], [26, "module-tokenValueDecoder", false], [27, "module-trainDPO", false], [28, "module-trainPPO", false], [29, "module-utils", false]], "myst_enable_extensions (in module conf)": [[2, "conf.myst_enable_extensions", false]], "nepoch (in module submit_ppo-aligned_pipeline)": [[22, "submit_PPO-aligned_pipeline.nepoch", false]], "optimize_lambda() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.optimize_lambda", false]], "parser (in module rewardtrainer)": [[18, "rewardTrainer.parser", false]], "plot_all_setups() (in module plot_sequential_baseline)": [[15, "plot_sequential_baseline.plot_all_setups", false]], "plot_cal_winrate": [[10, "module-plot_cal_winrate", false]], "plot_clevels() (in module plot_cal_winrate)": [[10, "plot_cal_winrate.plot_cLevels", false]], "plot_helpful_vs_harmless() (in module plot_cal_winrate)": [[10, "plot_cal_winrate.plot_helpful_vs_harmless", false]], "plot_hist() (in module plot_reward_dist)": [[14, "plot_reward_dist.plot_hist", false]], "plot_hist_positive() (in module plot_reward_dist)": [[14, "plot_reward_dist.plot_hist_positive", false]], "plot_lambdas_2d_subplots() (in module plot_rand_lambda_map_region)": [[13, "plot_rand_lambda_MAP_region.plot_lambdas_2D_subplots", false]], "plot_lambdas_3d() (in module plot_rand_lambda_map_region)": [[13, "plot_rand_lambda_MAP_region.plot_lambdas_3D", false]], "plot_matrix_scatterplot() (in module plot_pairwise_pareto)": [[11, "plot_pairwise_pareto.plot_matrix_scatterplot", false]], "plot_pairwise_pareto": [[11, "module-plot_pairwise_pareto", false]], "plot_pareto() (in module plot_pairwise_pareto)": [[11, "plot_pairwise_pareto.plot_pareto", false]], "plot_radar_chart() (in module plot_radar_tabresults)": [[12, "plot_radar_tabresults.plot_radar_chart", false]], "plot_radar_tabresults": [[12, "module-plot_radar_tabresults", false]], "plot_rand_lambda_map_region": [[13, "module-plot_rand_lambda_MAP_region", false]], "plot_reward_dist": [[14, "module-plot_reward_dist", false]], "plot_separate_setup() (in module plot_sequential_baseline)": [[15, "plot_sequential_baseline.plot_separate_setup", false]], "plot_sequential_baseline": [[15, "module-plot_sequential_baseline", false]], "plot_tab_in_quantiles": [[16, "module-plot_tab_in_quantiles", false]], "plot_weighted_unweighted_histograms() (in module plot_reward_dist)": [[14, "plot_reward_dist.plot_weighted_unweighted_histograms", false]], "plot_winrate() (in module plot_cal_winrate)": [[10, "plot_cal_winrate.plot_winrate", false]], "preprocess_data() (in module gendpodata)": [[3, "genDPOdata.preprocess_data", false]], "project (in module conf)": [[2, "conf.project", false]], "quantile_transform() (in module plot_pairwise_pareto)": [[11, "plot_pairwise_pareto.quantile_transform", false]], "quantile_transform_single_c() (rewardprocessor.rewardprocessor method)": [[17, "rewardProcessor.RewardProcessor.quantile_transform_single_c", false]], "r (in module plot_tab_in_quantiles)": [[16, "plot_tab_in_quantiles.r", false]], "random_string() (in module submit_dpo_job)": [[19, "submit_DPO_job.random_string", false]], "random_string() (in module submit_jobs)": [[23, "submit_jobs.random_string", false]], "random_string() (in module submit_map-dpo-ppo_comparison)": [[20, "submit_MAP-DPO-PPO_comparison.random_string", false]], "random_string() (in module submit_mc-aligned_pipeline)": [[21, "submit_MC-aligned_pipeline.random_string", false]], "random_string() (in module submit_perplexity_correction)": [[24, "submit_perplexity_correction.random_string", false]], "random_string() (in module submit_ppo-aligned_pipeline)": [[22, "submit_PPO-aligned_pipeline.random_string", false]], "random_string() (in module submit_soup)": [[25, "submit_soup.random_string", false]], "release (in module conf)": [[2, "conf.release", false]], "render_latex_table() (in module plot_cal_winrate)": [[10, "plot_cal_winrate.render_latex_table", false]], "rewardprocessor": [[17, "module-rewardProcessor", false]], "rewardprocessor (class in rewardprocessor)": [[17, "rewardProcessor.RewardProcessor", false]], "rewardtrainer": [[18, "module-rewardTrainer", false]], "round_1_results (in module plot_sequential_baseline)": [[15, "plot_sequential_baseline.round_1_results", false]], "round_5_results (in module plot_sequential_baseline)": [[15, "plot_sequential_baseline.round_5_results", false]], "save_model_and_tokenizer() (in module getdposoup)": [[7, "getDPOsoup.save_model_and_tokenizer", false]], "save_results() (gendata.textgeneration method)": [[4, "gendata.TextGeneration.save_results", false]], "save_results_to_csv() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.save_results_to_csv", false]], "save_results_to_text() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.save_results_to_text", false]], "seed (in module gendpodata)": [[3, "genDPOdata.seed", false]], "sequential_optimize_lambda() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.sequential_optimize_lambda", false]], "sequential_optimize_lambda_multiround() (alignvalues.alignvalues method)": [[1, "alignValues.AlignValues.sequential_optimize_lambda_multiround", false]], "soup() (in module getdposoup)": [[7, "getDPOsoup.soup", false]], "start_time (in module tokenvaluedecoder)": [[26, "tokenValueDecoder.start_time", false]], "submit_dpo_job": [[19, "module-submit_DPO_job", false]], "submit_jobs": [[23, "module-submit_jobs", false]], "submit_map-dpo-ppo_comparison": [[20, "module-submit_MAP-DPO-PPO_comparison", false]], "submit_mc-aligned_pipeline": [[21, "module-submit_MC-aligned_pipeline", false]], "submit_perplexity_correction": [[24, "module-submit_perplexity_correction", false]], "submit_ppo-aligned_pipeline": [[22, "module-submit_PPO-aligned_pipeline", false]], "submit_soup": [[25, "module-submit_soup", false]], "task_name (in module utils)": [[29, "utils.TASK_NAME", false]], "templates_path (in module conf)": [[2, "conf.templates_path", false]], "textgeneration (class in gendata)": [[4, "gendata.TextGeneration", false]], "tokenizer (in module tokenvaluedecoder)": [[26, "tokenValueDecoder.tokenizer", false]], "tokenvaluedecoder": [[26, "module-tokenValueDecoder", false]], "top_k (gendata.textgeneration attribute)": [[4, "gendata.TextGeneration.top_k", false]], "train_dpo() (in module traindpo)": [[27, "trainDPO.train_dpo", false]], "traindpo": [[27, "module-trainDPO", false]], "trainppo": [[28, "module-trainPPO", false]], "trim_to_word_boundary() (utils.lengthsampler method)": [[29, "utils.LengthSampler.trim_to_word_boundary", false]], "utils": [[29, "module-utils", false]], "values_to_align_str (rewardprocessor.rewardprocessor attribute)": [[17, "rewardProcessor.RewardProcessor.values_to_align_str", false]], "values_to_evaluate_str (rewardprocessor.rewardprocessor attribute)": [[17, "rewardProcessor.RewardProcessor.values_to_evaluate_str", false]], "x_value (in module plot_rand_lambda_map_region)": [[13, "plot_rand_lambda_MAP_region.x_value", false]]}, "objects": {"": [[1, 0, 0, "-", "alignValues"], [2, 0, 0, "-", "conf"], [3, 0, 0, "-", "genDPOdata"], [4, 0, 0, "-", "gendata"], [5, 0, 0, "-", "gendataGUI"], [6, 0, 0, "-", "generate-alpacaFinetune"], [7, 0, 0, "-", "getDPOsoup"], [9, 0, 0, "-", "mergeProcessor"], [10, 0, 0, "-", "plot_cal_winrate"], [11, 0, 0, "-", "plot_pairwise_pareto"], [12, 0, 0, "-", "plot_radar_tabresults"], [13, 0, 0, "-", "plot_rand_lambda_MAP_region"], [14, 0, 0, "-", "plot_reward_dist"], [15, 0, 0, "-", "plot_sequential_baseline"], [16, 0, 0, "-", "plot_tab_in_quantiles"], [17, 0, 0, "-", "rewardProcessor"], [18, 0, 0, "-", "rewardTrainer"], [19, 0, 0, "-", "submit_DPO_job"], [20, 0, 0, "-", "submit_MAP-DPO-PPO_comparison"], [21, 0, 0, "-", "submit_MC-aligned_pipeline"], [22, 0, 0, "-", "submit_PPO-aligned_pipeline"], [23, 0, 0, "-", "submit_jobs"], [24, 0, 0, "-", "submit_perplexity_correction"], [25, 0, 0, "-", "submit_soup"], [26, 0, 0, "-", "tokenValueDecoder"], [27, 0, 0, "-", "trainDPO"], [28, 0, 0, "-", "trainPPO"], [29, 0, 0, "-", "utils"]], "alignValues": [[1, 1, 1, "", "AlignValues"]], "alignValues.AlignValues": [[1, 2, 1, "", "dual_objective"], [1, 3, 1, "", "file_path"], [1, 2, 1, "", "find_pareto_by_interpolation"], [1, 2, 1, "", "find_pareto_by_oneValue"], [1, 2, 1, "", "gen_rand_MAP_lambda"], [1, 2, 1, "", "optimize_lambda"], [1, 2, 1, "", "save_results_to_csv"], [1, 2, 1, "", "save_results_to_text"], [1, 2, 1, "", "sequential_optimize_lambda"], [1, 2, 1, "", "sequential_optimize_lambda_multiround"]], "conf": [[2, 4, 1, "", "author"], [2, 4, 1, "", "autoapi_dirs"], [2, 4, 1, "", "copyright"], [2, 4, 1, "", "exclude_patterns"], [2, 4, 1, "", "extensions"], [2, 4, 1, "", "html_css_files"], [2, 4, 1, "", "html_js_files"], [2, 4, 1, "", "html_show_sourcelink"], [2, 4, 1, "", "html_show_sphinx"], [2, 4, 1, "", "html_theme"], [2, 4, 1, "", "html_theme_options"], [2, 4, 1, "", "imgmath_font_size"], [2, 4, 1, "", "imgmath_image_format"], [2, 4, 1, "", "myst_enable_extensions"], [2, 4, 1, "", "project"], [2, 4, 1, "", "release"], [2, 4, 1, "", "templates_path"]], "genDPOdata": [[3, 4, 1, "", "data_source"], [3, 5, 1, "", "gen_mixed_preference_data"], [3, 5, 1, "", "preprocess_data"], [3, 4, 1, "", "seed"]], "gendata": [[4, 1, 1, "", "TextGeneration"]], "gendata.TextGeneration": [[4, 3, 1, "", "basemodel_filename"], [4, 3, 1, "", "basemodel_name"], [4, 3, 1, "", "data_name"], [4, 3, 1, "", "device"], [4, 3, 1, "", "file_path"], [4, 2, 1, "", "generate_from_MC_aligned_model"], [4, 2, 1, "", "generate_from_original_model"], [4, 3, 1, "", "generation_config"], [4, 3, 1, "", "max_new_tokens"], [4, 2, 1, "", "save_results"], [4, 3, 1, "", "top_k"]], "gendataGUI": [[5, 4, 1, "", "device"], [5, 5, 1, "", "generateGUI_from_MC_aligned_model"], [5, 5, 1, "", "generateGUI_from_original_model"], [5, 4, 1, "", "iface"]], "generate-alpacaFinetune": [[6, 4, 1, "", "device"], [6, 5, 1, "", "main"]], "getDPOsoup": [[7, 5, 1, "", "save_model_and_tokenizer"], [7, 5, 1, "", "soup"]], "mergeProcessor": [[9, 1, 1, "", "MergeProcessor"]], "mergeProcessor.MergeProcessor": [[9, 2, 1, "", "merge_added_rewards"], [9, 2, 1, "", "merge_gendata_bypattern"]], "plot_cal_winrate": [[10, 4, 1, "", "base_model_file"], [10, 5, 1, "", "calculate_win_rate"], [10, 5, 1, "", "collect_multiple_results"], [10, 5, 1, "", "plot_cLevels"], [10, 5, 1, "", "plot_helpful_vs_harmless"], [10, 5, 1, "", "plot_winrate"], [10, 5, 1, "", "render_latex_table"]], "plot_pairwise_pareto": [[11, 4, 1, "", "model"], [11, 5, 1, "", "plot_matrix_scatterplot"], [11, 5, 1, "", "plot_pareto"], [11, 5, 1, "", "quantile_transform"]], "plot_radar_tabresults": [[12, 4, 1, "", "categories"], [12, 5, 1, "", "plot_radar_chart"]], "plot_rand_lambda_MAP_region": [[13, 5, 1, "", "plot_lambdas_2D_subplots"], [13, 5, 1, "", "plot_lambdas_3D"], [13, 4, 1, "", "x_value"]], "plot_reward_dist": [[14, 4, 1, "", "file_path"], [14, 5, 1, "", "plot_hist"], [14, 5, 1, "", "plot_hist_positive"], [14, 5, 1, "", "plot_weighted_unweighted_histograms"]], "plot_sequential_baseline": [[15, 4, 1, "", "categories"], [15, 4, 1, "", "data"], [15, 4, 1, "", "map_results"], [15, 4, 1, "", "model_setting"], [15, 5, 1, "", "plot_all_setups"], [15, 5, 1, "", "plot_separate_setup"], [15, 4, 1, "", "round_1_results"], [15, 4, 1, "", "round_5_results"]], "plot_tab_in_quantiles": [[16, 4, 1, "", "data"], [16, 4, 1, "", "r"]], "rewardProcessor": [[17, 1, 1, "", "RewardProcessor"], [17, 5, 1, "", "genGaussian"]], "rewardProcessor.RewardProcessor": [[17, 2, 1, "", "_assess_postalignment_singlevalue"], [17, 2, 1, "", "add_reward"], [17, 2, 1, "", "assess_original_value"], [17, 2, 1, "", "assess_postalignment_multivalue"], [17, 3, 1, "", "batch_size"], [17, 3, 1, "", "file_path"], [17, 2, 1, "", "quantile_transform_single_c"], [17, 3, 1, "", "values_to_align_str"], [17, 3, 1, "", "values_to_evaluate_str"]], "rewardTrainer": [[18, 4, 1, "", "parser"]], "submit_DPO_job": [[19, 4, 1, "", "basemodel_name"], [19, 5, 1, "", "ensure_dir"], [19, 5, 1, "", "random_string"]], "submit_MAP-DPO-PPO_comparison": [[20, 4, 1, "", "commands"], [20, 5, 1, "", "ensure_dir"], [20, 5, 1, "", "random_string"]], "submit_MC-aligned_pipeline": [[21, 4, 1, "", "basemodel_name"], [21, 5, 1, "", "ensure_dir"], [21, 5, 1, "", "random_string"]], "submit_PPO-aligned_pipeline": [[22, 5, 1, "", "ensure_dir"], [22, 4, 1, "", "nepoch"], [22, 5, 1, "", "random_string"]], "submit_jobs": [[23, 4, 1, "", "basemodel_name"], [23, 5, 1, "", "ensure_dir"], [23, 5, 1, "", "random_string"]], "submit_perplexity_correction": [[24, 4, 1, "", "basemodel_name"], [24, 5, 1, "", "ensure_dir"], [24, 5, 1, "", "random_string"]], "submit_soup": [[25, 4, 1, "", "basemodel_name"], [25, 5, 1, "", "ensure_dir"], [25, 5, 1, "", "random_string"]], "tokenValueDecoder": [[26, 4, 1, "", "device"], [26, 5, 1, "", "generate_value_aligned"], [26, 4, 1, "", "generated_text"], [26, 4, 1, "", "llama2_path"], [26, 4, 1, "", "model"], [26, 4, 1, "", "start_time"], [26, 4, 1, "", "tokenizer"]], "trainDPO": [[27, 5, 1, "", "train_dpo"]], "trainPPO": [[28, 5, 1, "", "build_dataset"], [28, 5, 1, "", "collator"], [28, 5, 1, "", "main"]], "utils": [[29, 4, 1, "", "ALL_SUPPORTED_VALUES"], [29, 1, 1, "", "LengthSampler"], [29, 4, 1, "", "TASK_NAME"], [29, 5, 1, "", "cal_coherence"], [29, 5, 1, "", "cal_diversity"], [29, 5, 1, "", "cal_gpt2_harmless_probabilities"], [29, 5, 1, "", "cal_gpt2_helpful_probabilities"], [29, 5, 1, "", "cal_harmless_probabilities"], [29, 5, 1, "", "cal_humor_probabilities"], [29, 5, 1, "", "cal_log_perplexity"], [29, 5, 1, "", "cal_positive_sentiment"], [29, 5, 1, "", "clean_and_trim_to_last_sentence"], [29, 5, 1, "", "compute_rep_n"], [29, 5, 1, "", "convert_ppo_modelname_to_huggingface_valid"], [29, 4, 1, "", "devices"], [29, 5, 1, "", "get_device"], [29, 5, 1, "", "get_model_and_tokenizer"], [29, 5, 1, "", "get_nvidia_smi_info"], [29, 5, 1, "", "get_prompts_from_Anthropic_harmless"], [29, 5, 1, "", "get_prompts_from_imdb"], [29, 5, 1, "", "get_reward"]], "utils.LengthSampler": [[29, 2, 1, "", "__call__"], [29, 3, 1, "", "max_length"], [29, 3, 1, "", "min_length"], [29, 2, 1, "", "trim_to_word_boundary"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "data", "Python data"], "5": ["py", "function", "Python function"]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:data", "5": "py:function"}, "terms": {"": [0, 1], "0": [0, 2, 4, 5, 6, 7, 11, 12, 17], "04": 11, "06": 28, "1": [0, 2, 3, 5, 7, 8, 11, 17, 18, 22, 26, 28], "10": [0, 18], "100": 17, "13": 2, "16": [0, 18], "1e": 28, "2": [26, 28], "20": 28, "2024": 2, "2d": [0, 13], "3": [0, 2, 26], "32": [4, 17], "3b": [10, 15, 19, 21, 23, 24, 25], "3d": [0, 13], "41e": [0, 18], "5": [0, 17, 18], "50": [0, 3, 4, 5], "512": [0, 18], "6": [2, 3], "64": [0, 18], "7b": [6, 26], "8": [19, 20, 21, 22, 23, 24, 25], "But": [0, 16], "The": [0, 9, 13, 17, 28], "_": [0, 9], "__call__": 29, "_assess_postalignment_singlevalu": 17, "_templat": 2, "_val": 9, "aanwar": 26, "abov": [0, 9], "adamw_torch": [0, 18], "add_reward": 17, "aligned_pipelin": [8, 30], "alignment_data": 11, "alignvalu": [8, 30], "all": [0, 9], "all_": 9, "all_supported_valu": 29, "allow": [0, 1], "along": [0, 14], "alpaca": 6, "alpacafinetun": [8, 30], "amsmath": 2, "anthrop": [10, 14, 15], "append": [0, 1], "appli": [0, 28], "ar": [0, 9, 16], "arg": 9, "argument": 0, "art_set": 12, "assess_original_valu": 17, "assess_postalignment_multivalu": 17, "assum": [0, 9], "attrs_block": 2, "attrs_inlin": 2, "author": [2, 30], "auto": 8, "autoapi": 8, "autoapi_dir": 2, "autodoc": 2, "axi": [0, 13], "balanc": 26, "base": [0, 5], "base_model": 6, "base_model_fil": [0, 10], "basemodel_filenam": 4, "basemodel_for_perplex": [0, 17], "basemodel_nam": [0, 4, 7, 19, 21, 23, 24, 25], "batch_siz": [4, 17, 28], "befor": [0, 9], "beta": [0, 7, 27], "between": [0, 1], "bool": [6, 27], "build": [0, 28], "build_dataset": 28, "c": [0, 1, 11, 16], "c_high": 1, "c_i": [0, 1], "c_list": [1, 17], "c_low": 1, "cal_coher": 29, "cal_divers": 29, "cal_gpt2_harmless_prob": 29, "cal_gpt2_helpful_prob": 29, "cal_harmless_prob": 29, "cal_humor_prob": 29, "cal_log_perplex": 29, "cal_positive_senti": 29, "calcul": [0, 14], "calculate_win_r": 10, "call": [0, 1], "can": [0, 16], "cannot": [0, 3], "case": [0, 1], "categori": [12, 15], "caus": [0, 16], "chat": 26, "chosen": [0, 3], "class": 0, "clean_and_trim_to_last_sent": 29, "close": [0, 16], "code": 2, "coher": [12, 29], "collat": 28, "collect_multiple_result": 10, "colnam": 17, "colon_f": 2, "column": [0, 14], "column_nam": 11, "com": 2, "command": 20, "compute_rep_n": 29, "conf": 8, "config": [0, 28], "confus": [0, 16], "constrain": [0, 1], "contact": 30, "contain": [0, 1, 8, 13], "continu": 29, "convers": [0, 29], "convert": [0, 29], "convert_ppo_modelname_to_huggingface_valid": 29, "copyright": 2, "correspond": [0, 1], "creat": [0, 8, 13], "csv": [0, 1, 13], "csv_path": [0, 11], "cuda": [4, 6], "current": [0, 1, 3], "data": [0, 1, 15, 16, 28], "data_nam": [0, 4, 28], "data_sourc": [0, 3], "dataload": [0, 28], "dataset": [0, 28], "debug": [0, 17, 26], "decoded_output": 29, "def": 0, "deflist": 2, "detail": [0, 16], "devic": [4, 5, 6, 26, 29], "dialog": [0, 3], "dict": [0, 3], "dingj": 2, "directori": [0, 9, 19, 20, 21, 22, 23, 24, 25], "dirichlet": [0, 1], "dirichlet_lambda": [0, 1], "dirichlet_lambda_ref": [0, 13], "disk": [0, 1], "distribut": [0, 14], "divers": [12, 29], "document": [2, 8], "dollarmath": 2, "dot": [0, 13], "dpo": [8, 30], "draw": [0, 1], "dual_object": 1, "e": [0, 13], "each": [0, 1, 9, 13, 14], "edu": 30, "empti": [0, 17], "end": [0, 9], "end_index": 4, "ensur": [0, 29], "ensure_dir": [19, 20, 21, 22, 23, 24, 25], "entri": [0, 9], "equal": [0, 17], "evaluation_mod": 17, "evaluation_strategi": [0, 18], "exampl": [0, 3, 9], "exclude_pattern": 2, "exist": [0, 17], "ext": 2, "extens": 2, "factor": [0, 7], "failur": [0, 1], "fals": [0, 1, 2, 9, 17, 18, 26, 27], "fieldlist": 2, "file": [0, 1, 9, 13, 14, 17], "file_path": [0, 1, 4, 13, 14, 17], "file_prefix": [0, 10], "filenam": [0, 9, 11], "final": [0, 9], "find_pareto_by_interpol": 1, "find_pareto_by_onevalu": 1, "first": [0, 3], "float": 27, "folder": [0, 9], "format": [0, 3], "from": [0, 28], "front": [0, 11], "function": [0, 1], "g": [0, 13], "gen_mixed_preference_data": 3, "gen_rand_map_lambda": 1, "gendata": [8, 30], "gendatagui": [8, 30], "gendpodata": [8, 30], "gener": [1, 5, 8, 11, 26, 30], "generate_from_mc_aligned_model": 4, "generate_from_original_model": 4, "generate_value_align": 26, "generated_text": 26, "generategui_from_mc_aligned_model": 5, "generategui_from_original_model": 5, "generation_config": 4, "gengaussian": 17, "get_devic": 29, "get_model_and_token": 29, "get_nvidia_smi_info": 29, "get_prompts_from_anthropic_harmless": 29, "get_prompts_from_imdb": [0, 28, 29], "get_reward": 29, "getdposoup": [8, 30], "gitrepo": 2, "glob": [0, 9], "gpt2": [0, 13, 18, 29], "gradient_accumulation_step": [0, 18], "gradient_checkpoint": [0, 18], "ha": [0, 9, 17], "harmless": [0, 3, 10, 12, 13, 14, 15, 29], "harmless_lambda": [0, 7], "harmless_ratio": [0, 10, 27], "have": [0, 3], "help": [0, 3, 10, 12, 13, 29], "home": 26, "html_css_file": 2, "html_js_file": 2, "html_show_sourcelink": 2, "html_show_sphinx": 2, "html_theme": 2, "html_theme_opt": 2, "http": 2, "huggingfac": [0, 29], "humor": [12, 29], "i": [0, 1, 3, 13, 17, 29, 30], "ifac": 5, "imgmath_font_s": 2, "imgmath_image_format": 2, "includ": [0, 9], "input": [0, 5, 11, 14], "int": 27, "intend": [0, 11, 14], "interpol": [0, 7], "interv": [0, 26], "invas": [0, 17], "its": [0, 9], "j": 2, "jqueri": 2, "json": [0, 9, 10, 14, 17], "json_fil": [0, 14], "json_file_pattern": [0, 9], "k": 17, "l1": [0, 1], "lam": [14, 17], "lam_list": [4, 5, 28], "lambda": [0, 1, 13], "lambda_init": 1, "lambda_v": 1, "latex": [0, 10], "learning_r": [0, 18, 28], "leav": [0, 16], "length": [0, 19, 20, 21, 22, 23, 24, 25, 26, 29], "lengthsampl": 29, "level": [0, 9, 16], "list": [0, 1, 10, 13], "llama": 26, "llama2_chat": [11, 14], "llama2_path": 26, "load": [0, 28], "load_8bit": 6, "locat": [0, 9], "logging_step": [0, 18], "lora": 6, "lora_weight": 6, "main": [6, 28], "mani": [0, 3], "map": [0, 1, 2], "map_result": 15, "match": [0, 9], "mathjax": 2, "max_decode_length": [0, 26], "max_length": [0, 18, 29], "max_new_token": [0, 4, 5], "max_word": [0, 3], "maximum": [0, 1, 26], "mc_nsampl": [4, 5], "mean": [0, 17], "merg": [0, 9], "merge_added_reward": 9, "merge_gendata_bypattern": 9, "mergeprocessor": [8, 30], "metric": [0, 10], "min": 2, "min_length": 29, "mini_batch_s": 28, "model": [0, 7, 11, 26, 29], "model_choic": 5, "model_fil": [0, 10], "model_nam": [12, 28, 29], "model_name_or_path": [0, 18], "model_output": 26, "model_scor": 12, "model_set": 15, "modifi": [0, 1], "more": [0, 9], "move": [0, 9], "multipl": [0, 10], "myst_enable_extens": 2, "myst_pars": 2, "n": [17, 29], "name": [0, 13, 16, 28, 29], "nan": [0, 1], "napoleon": 2, "nepoch": [22, 28], "new": [0, 1], "non": [0, 17], "none": [0, 1, 4, 10, 11, 17, 29], "norm": [0, 1], "note": [0, 3], "num_beam": [0, 5], "num_lambda": [0, 1], "num_train_epoch": [0, 18], "number": [0, 1], "one": [0, 9, 13], "opt1": [10, 15, 19, 21, 23, 24, 25], "optim": [0, 1, 18], "optimize_indic": 1, "optimize_lambda": 1, "optimized_lambda": [0, 1, 13], "origin": [0, 9, 17], "original_file_path": [0, 9], "other": [0, 5, 13], "otherwis": [0, 9], "out": [0, 16], "output": [0, 13], "output_dir": [0, 18], "output_fil": 12, "output_prefix": [0, 13], "over": [0, 10, 13], "overlai": [0, 13], "overwrit": [0, 9], "overwritten": [0, 17], "p": [0, 3], "page": 8, "paper": [0, 16], "paramet": [0, 1, 5, 13, 28], "pareto": [0, 11], "parser": 18, "path": [0, 1, 11, 13, 14, 29], "pattern": [0, 9], "pdf": [0, 13], "per_device_train_batch_s": [0, 18], "perfectli": [0, 16], "perplex": [12, 29], "plot": [0, 10, 13, 14], "plot_all_setup": 15, "plot_cal_winr": [8, 30], "plot_clevel": 10, "plot_helpful_vs_harmless": 10, "plot_hist": 14, "plot_hist_posit": 14, "plot_lambdas_2d_subplot": 13, "plot_lambdas_3d": 13, "plot_matrix_scatterplot": 11, "plot_pairwise_pareto": [8, 30], "plot_pareto": 11, "plot_radar_chart": 12, "plot_radar_tabresult": [8, 30], "plot_rand_lambda_map_region": [8, 30], "plot_reward_dist": [8, 30], "plot_separate_setup": 15, "plot_sequential_baselin": [8, 30], "plot_tab_in_quantil": [8, 30], "plot_weighted_unweighted_histogram": 14, "plot_winr": 10, "posit": [0, 14], "ppo": [0, 29], "ppo_comparison": [8, 30], "ppo_model_nam": [0, 29], "prefix": [0, 1], "preprocess_data": 3, "process": [0, 17], "project": 2, "prompt": [0, 5, 26, 28, 29], "prompt_templ": 6, "py": [0, 7, 18], "python": [0, 18], "quantil": [0, 16], "quantile_transform": 11, "quantile_transform_single_c": 17, "r": 16, "rand_map_lambda": [0, 1], "random": [0, 1], "random_str": [19, 20, 21, 22, 23, 24, 25], "randomli": [0, 1, 11], "rate": [0, 1, 10], "reader": [0, 16], "real": [0, 16], "recalcul": [0, 1], "refer": [0, 1], "reject": [0, 3], "releas": 2, "remov": [0, 9], "remove_unused_column": [0, 18], "render": [0, 10], "render_latex_t": 10, "report_to": [0, 18], "represent": [0, 16], "result": [0, 1, 4, 9, 10, 14, 16, 18], "return": [0, 1, 28], "reward": [0, 1, 9, 14, 17], "reward_filepath": 11, "reward_modeling_anthropic_hh": [0, 18], "rewardprocessor": [8, 30], "rewardtrain": [8, 30], "rho": 17, "round": [0, 3], "round_1_result": 15, "round_5_result": 15, "row": [0, 9], "same": [0, 7], "sampl": [0, 3], "sample_s": [0, 3, 7, 27], "save": [0, 1, 9, 10, 13], "save_directori": 4, "save_model_and_token": 7, "save_path": [0, 7, 14, 27, 28], "save_prefix": [0, 1], "save_result": 4, "save_results_to_csv": 1, "save_results_to_text": 1, "save_to_temp_fold": [0, 9], "scale": 17, "scaling_max": [0, 1, 17], "script": [0, 16], "sd": 17, "seed": 3, "semi": [0, 13], "sentenc": [0, 14, 29], "sentiment_control": 0, "sequential_optimize_lambda": 1, "sequential_optimize_lambda_multiround": 1, "server_nam": 6, "sever": [0, 13], "share_gradio": 6, "show": [0, 11, 14], "singl": [0, 9], "singlevalue_to_evalu": 17, "size": [0, 3], "small": [0, 3], "so": [0, 3], "soup": 7, "specif": [0, 9, 13], "sphinx": [2, 8], "sphinx_rtd_them": 2, "split": [0, 3], "start_index": 4, "start_tim": 26, "step": [0, 18], "str": [0, 6, 9, 28], "submit_dpo_job": [8, 30], "submit_job": [8, 30], "submit_map": [8, 30], "submit_mc": [8, 30], "submit_perplexity_correct": [8, 30], "submit_ppo": [8, 30], "submit_soup": [8, 30], "subplot": [0, 13], "subplot_nam": 14, "success": [0, 1], "summar": [0, 10], "support": [0, 3], "svg": 2, "tab": [0, 16], "tabl": [0, 10], "target": [0, 16], "task_nam": 29, "temp": [0, 9], "temperatur": [0, 5], "templates_path": 2, "test": [0, 3], "text": [0, 1, 5, 26, 29], "textgener": 4, "thei": [0, 16], "thi": [0, 1, 8, 9, 16, 30], "time": [0, 1], "title_text": 12, "tloen": 6, "token": [0, 7, 26, 28, 29], "tokenvaluedecod": [8, 30], "too": [0, 3], "top_k": [0, 4, 5, 26], "torch": [0, 28], "tradeoff": [0, 11], "train": [0, 3, 28, 29], "train_dpo": 27, "traindpo": [7, 8, 30], "trainppo": [8, 30], "transpar": [0, 13], "trim_to_word_boundari": 29, "true": [0, 1, 6, 9, 11, 17, 18, 29], "tupl": [0, 1], "turn": [0, 16], "type": 28, "umn": 30, "us": [0, 1, 28], "use_lora": 27, "use_quantile_transform": 11, "use_scor": 29, "user": 2, "util": [8, 28, 30], "v0": 2, "val": 0, "valid": [0, 1, 29], "valu": [0, 1, 11, 13, 14, 17, 26, 29], "value1": 11, "value2": 11, "value_list": [1, 4, 5, 28], "value_param": [0, 26], "value_to_enh": 1, "values_to_align": [14, 17], "values_to_align_str": 17, "values_to_evalu": [14, 17], "values_to_evaluate_str": 17, "verbos": 1, "wandb": [0, 18], "wang": [2, 30], "wang8740": [26, 30], "we": [0, 9, 16], "win": [0, 10], "win_rate_results_list": [0, 10], "within": [0, 9], "x": [0, 13], "x_list": 11, "x_valu": [0, 13], "xinran": [2, 30], "xlim": 11, "y": [0, 13], "y_list": 11, "y_valu": [0, 13], "ylim": 11, "z": [0, 13], "z_valu": [0, 13]}, "titles": ["submit_DPO_job", "alignValues", "conf", "genDPOdata", "gendata", "gendataGUI", "generate-alpacaFinetune", "getDPOsoup", "API Reference", "mergeProcessor", "plot_cal_winrate", "plot_pairwise_pareto", "plot_radar_tabresults", "plot_rand_lambda_MAP_region", "plot_reward_dist", "plot_sequential_baseline", "plot_tab_in_quantiles", "rewardProcessor", "rewardTrainer", "submit_DPO_job", "submit_MAP-DPO-PPO_comparison", "submit_MC-aligned_pipeline", "submit_PPO-aligned_pipeline", "submit_jobs", "submit_perplexity_correction", "submit_soup", "tokenValueDecoder", "trainDPO", "trainPPO", "utils", "Welcome to MAP Documentation"], "titleterms": {"add_reward": 0, "aligned_pipelin": [0, 21, 22], "alignvalu": [0, 1], "alpacafinetun": [0, 6], "api": [8, 30], "attribut": [2, 3, 5, 6, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29], "build_dataset": 0, "class": [1, 4, 9, 17, 29], "collect_multiple_result": 0, "conf": 2, "content": [1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29], "convert_ppo_modelname_to_huggingface_valid": 0, "document": 30, "dpo": [0, 20], "function": [3, 5, 6, 7, 10, 11, 12, 13, 14, 15, 17, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29], "gen_mixed_preference_data": 0, "gen_rand_map_lambda": 0, "gendata": [0, 4], "gendatagui": [0, 5], "gendpodata": [0, 3], "gener": [0, 6], "generate_value_align": 0, "generategui_from_original_model": 0, "getdposoup": [0, 7], "map": 30, "merge_added_reward": 0, "merge_gendata_bypattern": 0, "mergeprocessor": [0, 9], "modul": [1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29], "object": 0, "plot_cal_winr": [0, 10], "plot_helpful_vs_harmless": 0, "plot_hist": 0, "plot_hist_posit": 0, "plot_lambdas_2d_subplot": 0, "plot_lambdas_3d": 0, "plot_matrix_scatterplot": 0, "plot_pairwise_pareto": [0, 11], "plot_radar_tabresult": [0, 12], "plot_rand_lambda_map_region": [0, 13], "plot_reward_dist": [0, 14], "plot_sequential_baselin": [0, 15], "plot_tab_in_quantil": [0, 16], "ppo_comparison": [0, 20], "preprocess_data": 0, "refer": [8, 30], "render_latex_t": 0, "rewardprocessor": [0, 17], "rewardtrain": [0, 18], "save_results_to_csv": 0, "save_results_to_text": 0, "soup": 0, "submit_dpo_job": [0, 19], "submit_job": [0, 23], "submit_map": [0, 20], "submit_mc": [0, 21], "submit_perplexity_correct": [0, 24], "submit_ppo": [0, 22], "submit_soup": [0, 25], "task_nam": 0, "tokenvaluedecod": [0, 26], "traindpo": [0, 27], "trainppo": [0, 28], "util": [0, 29], "welcom": 30}})