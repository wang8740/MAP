Search.setIndex({"alltitles": {"API Reference": [[29, null]], "API Reference:": [[30, null]], "AlignValues Objects": [[0, "alignvalues-objects"]], "Attributes": [[2, "attributes"], [3, "attributes"], [5, "attributes"], [6, "attributes"], [9, "attributes"], [10, "attributes"], [11, "attributes"], [12, "attributes"], [13, "attributes"], [14, "attributes"], [15, "attributes"], [17, "attributes"], [18, "attributes"], [19, "attributes"], [20, "attributes"], [21, "attributes"], [22, "attributes"], [23, "attributes"], [24, "attributes"], [25, "attributes"], [28, "attributes"]], "Classes": [[1, "classes"], [4, "classes"], [8, "classes"], [16, "classes"], [28, "classes"]], "Functions": [[3, "functions"], [5, "functions"], [6, "functions"], [7, "functions"], [9, "functions"], [10, "functions"], [11, "functions"], [12, "functions"], [13, "functions"], [14, "functions"], [16, "functions"], [18, "functions"], [19, "functions"], [20, "functions"], [21, "functions"], [22, "functions"], [23, "functions"], [24, "functions"], [25, "functions"], [26, "functions"], [27, "functions"], [28, "functions"]], "MAP.alignValues": [[1, null]], "MAP.docs.source.conf": [[2, null]], "MAP.genDPOdata": [[3, null]], "MAP.gendata": [[4, null]], "MAP.gendataGUI": [[5, null]], "MAP.generate-alpacaFinetune": [[6, null]], "MAP.getDPOsoup": [[7, null]], "MAP.mergeProcessor": [[8, null]], "MAP.plot_cal_winrate": [[9, null]], "MAP.plot_pairwise_pareto": [[10, null]], "MAP.plot_radar_tabresults": [[11, null]], "MAP.plot_rand_lambda_MAP_region": [[12, null]], "MAP.plot_reward_dist": [[13, null]], "MAP.plot_sequential_baseline": [[14, null]], "MAP.plot_tab_in_quantiles": [[15, null]], "MAP.rewardProcessor": [[16, null]], "MAP.rewardTrainer": [[17, null]], "MAP.submit_DPO_job": [[18, null]], "MAP.submit_MAP-DPO-PPO_comparison": [[19, null]], "MAP.submit_MC-aligned_pipeline": [[20, null]], "MAP.submit_PPO-aligned_pipeline": [[21, null]], "MAP.submit_jobs": [[22, null]], "MAP.submit_perplexity_correction": [[23, null]], "MAP.submit_soup": [[24, null]], "MAP.tokenValueDecoder": [[25, null]], "MAP.trainDPO": [[26, null]], "MAP.trainPPO": [[27, null]], "MAP.utils": [[28, null]], "MergeProcessor Objects": [[0, "mergeprocessor-objects"]], "Module Contents": [[1, "module-contents"], [2, "module-contents"], [3, "module-contents"], [4, "module-contents"], [5, "module-contents"], [6, "module-contents"], [7, "module-contents"], [8, "module-contents"], [9, "module-contents"], [10, "module-contents"], [11, "module-contents"], [12, "module-contents"], [13, "module-contents"], [14, "module-contents"], [15, "module-contents"], [16, "module-contents"], [17, "module-contents"], [18, "module-contents"], [19, "module-contents"], [20, "module-contents"], [21, "module-contents"], [22, "module-contents"], [23, "module-contents"], [24, "module-contents"], [25, "module-contents"], [26, "module-contents"], [27, "module-contents"], [28, "module-contents"]], "RewardProcessor Objects": [[0, "rewardprocessor-objects"]], "TASK_NAME": [[0, "task-name"]], "Welcome to MAP Documentation": [[30, null]], "add_reward": [[0, "add-reward"]], "alignValues": [[0, "alignvalues"]], "build_dataset": [[0, "build-dataset"]], "collect_multiple_results": [[0, "collect-multiple-results"]], "convert_ppo_modelname_to_huggingface_valid": [[0, "convert-ppo-modelname-to-huggingface-valid"]], "genDPOdata": [[0, "gendpodata"]], "gen_mixed_preference_data": [[0, "gen-mixed-preference-data"]], "gen_rand_MAP_lambda": [[0, "gen-rand-map-lambda"]], "gendata": [[0, "gendata"]], "gendataGUI": [[0, "gendatagui"]], "generate-alpacaFinetune": [[0, "generate-alpacafinetune"]], "generateGUI_from_original_model": [[0, "generategui-from-original-model"]], "generate_value_aligned": [[0, "generate-value-aligned"]], "getDPOsoup": [[0, "getdposoup"]], "mergeProcessor": [[0, "mergeprocessor"]], "merge_added_rewards": [[0, "merge-added-rewards"]], "merge_gendata_bypattern": [[0, "merge-gendata-bypattern"]], "plot_cal_winrate": [[0, "plot-cal-winrate"]], "plot_helpful_vs_harmless": [[0, "plot-helpful-vs-harmless"]], "plot_hist": [[0, "plot-hist"]], "plot_hist_positive": [[0, "plot-hist-positive"]], "plot_lambdas_2D_subplots": [[0, "plot-lambdas-2d-subplots"]], "plot_lambdas_3D": [[0, "plot-lambdas-3d"]], "plot_matrix_scatterplot": [[0, "plot-matrix-scatterplot"]], "plot_pairwise_pareto": [[0, "plot-pairwise-pareto"]], "plot_radar_tabresults": [[0, "plot-radar-tabresults"]], "plot_rand_lambda_MAP_region": [[0, "plot-rand-lambda-map-region"]], "plot_reward_dist": [[0, "plot-reward-dist"]], "plot_sequential_baseline": [[0, "plot-sequential-baseline"]], "plot_tab_in_quantiles": [[0, "plot-tab-in-quantiles"]], "preprocess_data": [[0, "preprocess-data"]], "render_latex_table": [[0, "render-latex-table"]], "rewardProcessor": [[0, "rewardprocessor"]], "rewardTrainer": [[0, "rewardtrainer"]], "save_results_to_csv": [[0, "save-results-to-csv"]], "save_results_to_text": [[0, "save-results-to-text"]], "soup": [[0, "soup"]], "submit_DPO_job": [[0, null]], "submit_MAP-DPO-PPO_comparison": [[0, "submit-map-dpo-ppo-comparison"]], "submit_MC-aligned_pipeline": [[0, "submit-mc-aligned-pipeline"]], "submit_PPO-aligned_pipeline": [[0, "submit-ppo-aligned-pipeline"]], "submit_jobs": [[0, "submit-jobs"]], "submit_perplexity_correction": [[0, "submit-perplexity-correction"]], "submit_soup": [[0, "submit-soup"]], "tokenValueDecoder": [[0, "tokenvaluedecoder"]], "trainDPO": [[0, "traindpo"]], "trainPPO": [[0, "trainppo"]], "utils": [[0, "utils"]]}, "docnames": ["api", "autoapi/MAP/alignValues/index", "autoapi/MAP/docs/source/conf/index", "autoapi/MAP/genDPOdata/index", "autoapi/MAP/gendata/index", "autoapi/MAP/gendataGUI/index", "autoapi/MAP/generate-alpacaFinetune/index", "autoapi/MAP/getDPOsoup/index", "autoapi/MAP/mergeProcessor/index", "autoapi/MAP/plot_cal_winrate/index", "autoapi/MAP/plot_pairwise_pareto/index", "autoapi/MAP/plot_radar_tabresults/index", "autoapi/MAP/plot_rand_lambda_MAP_region/index", "autoapi/MAP/plot_reward_dist/index", "autoapi/MAP/plot_sequential_baseline/index", "autoapi/MAP/plot_tab_in_quantiles/index", "autoapi/MAP/rewardProcessor/index", "autoapi/MAP/rewardTrainer/index", "autoapi/MAP/submit_DPO_job/index", "autoapi/MAP/submit_MAP-DPO-PPO_comparison/index", "autoapi/MAP/submit_MC-aligned_pipeline/index", "autoapi/MAP/submit_PPO-aligned_pipeline/index", "autoapi/MAP/submit_jobs/index", "autoapi/MAP/submit_perplexity_correction/index", "autoapi/MAP/submit_soup/index", "autoapi/MAP/tokenValueDecoder/index", "autoapi/MAP/trainDPO/index", "autoapi/MAP/trainPPO/index", "autoapi/MAP/utils/index", "autoapi/index", "index"], "envversion": {"sphinx": 64, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["api.md", "autoapi/MAP/alignValues/index.rst", "autoapi/MAP/docs/source/conf/index.rst", "autoapi/MAP/genDPOdata/index.rst", "autoapi/MAP/gendata/index.rst", "autoapi/MAP/gendataGUI/index.rst", "autoapi/MAP/generate-alpacaFinetune/index.rst", "autoapi/MAP/getDPOsoup/index.rst", "autoapi/MAP/mergeProcessor/index.rst", "autoapi/MAP/plot_cal_winrate/index.rst", "autoapi/MAP/plot_pairwise_pareto/index.rst", "autoapi/MAP/plot_radar_tabresults/index.rst", "autoapi/MAP/plot_rand_lambda_MAP_region/index.rst", "autoapi/MAP/plot_reward_dist/index.rst", "autoapi/MAP/plot_sequential_baseline/index.rst", "autoapi/MAP/plot_tab_in_quantiles/index.rst", "autoapi/MAP/rewardProcessor/index.rst", "autoapi/MAP/rewardTrainer/index.rst", "autoapi/MAP/submit_DPO_job/index.rst", "autoapi/MAP/submit_MAP-DPO-PPO_comparison/index.rst", "autoapi/MAP/submit_MC-aligned_pipeline/index.rst", "autoapi/MAP/submit_PPO-aligned_pipeline/index.rst", "autoapi/MAP/submit_jobs/index.rst", "autoapi/MAP/submit_perplexity_correction/index.rst", "autoapi/MAP/submit_soup/index.rst", "autoapi/MAP/tokenValueDecoder/index.rst", "autoapi/MAP/trainDPO/index.rst", "autoapi/MAP/trainPPO/index.rst", "autoapi/MAP/utils/index.rst", "autoapi/index.rst", "index.md"], "indexentries": {"__call__() (map.utils.lengthsampler method)": [[28, "MAP.utils.LengthSampler.__call__", false]], "_assess_postalignment_singlevalue() (map.rewardprocessor.rewardprocessor method)": [[16, "MAP.rewardProcessor.RewardProcessor._assess_postalignment_singlevalue", false]], "_dual_objective() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues._dual_objective", false]], "add_reward() (map.rewardprocessor.rewardprocessor method)": [[16, "MAP.rewardProcessor.RewardProcessor.add_reward", false]], "alignvalues (class in map.alignvalues)": [[1, "MAP.alignValues.AlignValues", false]], "all_supported_values (in module map.utils)": [[28, "MAP.utils.ALL_SUPPORTED_VALUES", false]], "assess_original_value() (map.rewardprocessor.rewardprocessor method)": [[16, "MAP.rewardProcessor.RewardProcessor.assess_original_value", false]], "assess_postalignment_multivalue() (map.rewardprocessor.rewardprocessor method)": [[16, "MAP.rewardProcessor.RewardProcessor.assess_postalignment_multivalue", false]], "author (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.author", false]], "autoapi_dirs (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.autoapi_dirs", false]], "autoapi_python_use_implicit_namespaces (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.autoapi_python_use_implicit_namespaces", false]], "autoapi_type (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.autoapi_type", false]], "base_model_file (in module map.plot_cal_winrate)": [[9, "MAP.plot_cal_winrate.base_model_file", false]], "basemodel_filename (map.gendata.textgeneration attribute)": [[4, "MAP.gendata.TextGeneration.basemodel_filename", false]], "basemodel_name (in module map.submit_dpo_job)": [[18, "MAP.submit_DPO_job.basemodel_name", false]], "basemodel_name (in module map.submit_jobs)": [[22, "MAP.submit_jobs.basemodel_name", false]], "basemodel_name (in module map.submit_mc-aligned_pipeline)": [[20, "MAP.submit_MC-aligned_pipeline.basemodel_name", false]], "basemodel_name (in module map.submit_perplexity_correction)": [[23, "MAP.submit_perplexity_correction.basemodel_name", false]], "basemodel_name (in module map.submit_soup)": [[24, "MAP.submit_soup.basemodel_name", false]], "basemodel_name (map.gendata.textgeneration attribute)": [[4, "MAP.gendata.TextGeneration.basemodel_name", false]], "batch_size (map.rewardprocessor.rewardprocessor attribute)": [[16, "MAP.rewardProcessor.RewardProcessor.batch_size", false]], "build_dataset() (in module map.trainppo)": [[27, "MAP.trainPPO.build_dataset", false]], "c (map.alignvalues.alignvalues attribute)": [[1, "MAP.alignValues.AlignValues.c", false]], "cal_coherence() (in module map.utils)": [[28, "MAP.utils.cal_coherence", false]], "cal_diversity() (in module map.utils)": [[28, "MAP.utils.cal_diversity", false]], "cal_gpt2_harmless_probabilities() (in module map.utils)": [[28, "MAP.utils.cal_gpt2_harmless_probabilities", false]], "cal_gpt2_helpful_probabilities() (in module map.utils)": [[28, "MAP.utils.cal_gpt2_helpful_probabilities", false]], "cal_harmless_probabilities() (in module map.utils)": [[28, "MAP.utils.cal_harmless_probabilities", false]], "cal_humor_probabilities() (in module map.utils)": [[28, "MAP.utils.cal_humor_probabilities", false]], "cal_log_perplexity() (in module map.utils)": [[28, "MAP.utils.cal_log_perplexity", false]], "cal_positive_sentiment() (in module map.utils)": [[28, "MAP.utils.cal_positive_sentiment", false]], "calculate_win_rate() (in module map.plot_cal_winrate)": [[9, "MAP.plot_cal_winrate.calculate_win_rate", false]], "categories (in module map.plot_radar_tabresults)": [[11, "MAP.plot_radar_tabresults.categories", false]], "categories (in module map.plot_sequential_baseline)": [[14, "MAP.plot_sequential_baseline.categories", false]], "clean_and_trim_to_last_sentence() (in module map.utils)": [[28, "MAP.utils.clean_and_trim_to_last_sentence", false]], "collator() (in module map.trainppo)": [[27, "MAP.trainPPO.collator", false]], "collect_multiple_results() (in module map.plot_cal_winrate)": [[9, "MAP.plot_cal_winrate.collect_multiple_results", false]], "commands (in module map.submit_map-dpo-ppo_comparison)": [[19, "MAP.submit_MAP-DPO-PPO_comparison.commands", false]], "compute_rep_n() (in module map.utils)": [[28, "MAP.utils.compute_rep_n", false]], "convert_ppo_modelname_to_huggingface_valid() (in module map.utils)": [[28, "MAP.utils.convert_ppo_modelname_to_huggingface_valid", false]], "copyright (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.copyright", false]], "data (in module map.plot_sequential_baseline)": [[14, "MAP.plot_sequential_baseline.data", false]], "data (in module map.plot_tab_in_quantiles)": [[15, "MAP.plot_tab_in_quantiles.data", false]], "data_name (map.gendata.textgeneration attribute)": [[4, "MAP.gendata.TextGeneration.data_name", false]], "data_source (in module map.gendpodata)": [[3, "MAP.genDPOdata.data_source", false]], "device (in module map.gendatagui)": [[5, "MAP.gendataGUI.device", false]], "device (in module map.generate-alpacafinetune)": [[6, "MAP.generate-alpacaFinetune.device", false]], "device (in module map.tokenvaluedecoder)": [[25, "MAP.tokenValueDecoder.device", false]], "device (map.gendata.textgeneration attribute)": [[4, "MAP.gendata.TextGeneration.device", false]], "devices (in module map.utils)": [[28, "MAP.utils.devices", false]], "ensure_dir() (in module map.submit_dpo_job)": [[18, "MAP.submit_DPO_job.ensure_dir", false]], "ensure_dir() (in module map.submit_jobs)": [[22, "MAP.submit_jobs.ensure_dir", false]], "ensure_dir() (in module map.submit_map-dpo-ppo_comparison)": [[19, "MAP.submit_MAP-DPO-PPO_comparison.ensure_dir", false]], "ensure_dir() (in module map.submit_mc-aligned_pipeline)": [[20, "MAP.submit_MC-aligned_pipeline.ensure_dir", false]], "ensure_dir() (in module map.submit_perplexity_correction)": [[23, "MAP.submit_perplexity_correction.ensure_dir", false]], "ensure_dir() (in module map.submit_ppo-aligned_pipeline)": [[21, "MAP.submit_PPO-aligned_pipeline.ensure_dir", false]], "ensure_dir() (in module map.submit_soup)": [[24, "MAP.submit_soup.ensure_dir", false]], "exclude_patterns (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.exclude_patterns", false]], "extensions (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.extensions", false]], "file_path (in module map.plot_reward_dist)": [[13, "MAP.plot_reward_dist.file_path", false]], "file_path (map.alignvalues.alignvalues attribute)": [[1, "MAP.alignValues.AlignValues.file_path", false], [1, "id0", false]], "file_path (map.gendata.textgeneration attribute)": [[4, "MAP.gendata.TextGeneration.file_path", false]], "file_path (map.rewardprocessor.rewardprocessor attribute)": [[16, "MAP.rewardProcessor.RewardProcessor.file_path", false]], "find_pareto_by_interpolation() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues.find_pareto_by_interpolation", false]], "find_pareto_by_onevalue() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues.find_pareto_by_oneValue", false]], "gen_mixed_preference_data() (in module map.gendpodata)": [[3, "MAP.genDPOdata.gen_mixed_preference_data", false]], "gen_rand_map_lambda() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues.gen_rand_MAP_lambda", false]], "generate_from_mc_aligned_model() (map.gendata.textgeneration method)": [[4, "MAP.gendata.TextGeneration.generate_from_MC_aligned_model", false]], "generate_from_original_model() (map.gendata.textgeneration method)": [[4, "MAP.gendata.TextGeneration.generate_from_original_model", false]], "generate_value_aligned() (in module map.tokenvaluedecoder)": [[25, "MAP.tokenValueDecoder.generate_value_aligned", false]], "generated_text (in module map.tokenvaluedecoder)": [[25, "MAP.tokenValueDecoder.generated_text", false]], "generategui_from_mc_aligned_model() (in module map.gendatagui)": [[5, "MAP.gendataGUI.generateGUI_from_MC_aligned_model", false]], "generategui_from_original_model() (in module map.gendatagui)": [[5, "MAP.gendataGUI.generateGUI_from_original_model", false]], "generation_config (map.gendata.textgeneration attribute)": [[4, "MAP.gendata.TextGeneration.generation_config", false]], "gengaussian() (in module map.rewardprocessor)": [[16, "MAP.rewardProcessor.genGaussian", false]], "get_device() (in module map.utils)": [[28, "MAP.utils.get_device", false]], "get_model_and_tokenizer() (in module map.utils)": [[28, "MAP.utils.get_model_and_tokenizer", false]], "get_nvidia_smi_info() (in module map.utils)": [[28, "MAP.utils.get_nvidia_smi_info", false]], "get_prompts_from_anthropic_harmless() (in module map.utils)": [[28, "MAP.utils.get_prompts_from_Anthropic_harmless", false]], "get_prompts_from_imdb() (in module map.utils)": [[28, "MAP.utils.get_prompts_from_imdb", false]], "get_reward() (in module map.utils)": [[28, "MAP.utils.get_reward", false]], "html_css_files (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.html_css_files", false]], "html_js_files (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.html_js_files", false]], "html_show_sourcelink (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.html_show_sourcelink", false]], "html_show_sphinx (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.html_show_sphinx", false]], "html_theme (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.html_theme", false]], "html_theme_options (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.html_theme_options", false]], "iface (in module map.gendatagui)": [[5, "MAP.gendataGUI.iface", false]], "imgmath_font_size (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.imgmath_font_size", false]], "imgmath_image_format (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.imgmath_image_format", false]], "lengthsampler (class in map.utils)": [[28, "MAP.utils.LengthSampler", false]], "llama2_path (in module map.tokenvaluedecoder)": [[25, "MAP.tokenValueDecoder.llama2_path", false]], "main() (in module map.generate-alpacafinetune)": [[6, "MAP.generate-alpacaFinetune.main", false]], "main() (in module map.trainppo)": [[27, "MAP.trainPPO.main", false]], "map.alignvalues": [[1, "module-MAP.alignValues", false]], "map.docs.source.conf": [[2, "module-MAP.docs.source.conf", false]], "map.gendata": [[4, "module-MAP.gendata", false]], "map.gendatagui": [[5, "module-MAP.gendataGUI", false]], "map.gendpodata": [[3, "module-MAP.genDPOdata", false]], "map.generate-alpacafinetune": [[6, "module-MAP.generate-alpacaFinetune", false]], "map.getdposoup": [[7, "module-MAP.getDPOsoup", false]], "map.mergeprocessor": [[8, "module-MAP.mergeProcessor", false]], "map.plot_cal_winrate": [[9, "module-MAP.plot_cal_winrate", false]], "map.plot_pairwise_pareto": [[10, "module-MAP.plot_pairwise_pareto", false]], "map.plot_radar_tabresults": [[11, "module-MAP.plot_radar_tabresults", false]], "map.plot_rand_lambda_map_region": [[12, "module-MAP.plot_rand_lambda_MAP_region", false]], "map.plot_reward_dist": [[13, "module-MAP.plot_reward_dist", false]], "map.plot_sequential_baseline": [[14, "module-MAP.plot_sequential_baseline", false]], "map.plot_tab_in_quantiles": [[15, "module-MAP.plot_tab_in_quantiles", false]], "map.rewardprocessor": [[16, "module-MAP.rewardProcessor", false]], "map.rewardtrainer": [[17, "module-MAP.rewardTrainer", false]], "map.submit_dpo_job": [[18, "module-MAP.submit_DPO_job", false]], "map.submit_jobs": [[22, "module-MAP.submit_jobs", false]], "map.submit_map-dpo-ppo_comparison": [[19, "module-MAP.submit_MAP-DPO-PPO_comparison", false]], "map.submit_mc-aligned_pipeline": [[20, "module-MAP.submit_MC-aligned_pipeline", false]], "map.submit_perplexity_correction": [[23, "module-MAP.submit_perplexity_correction", false]], "map.submit_ppo-aligned_pipeline": [[21, "module-MAP.submit_PPO-aligned_pipeline", false]], "map.submit_soup": [[24, "module-MAP.submit_soup", false]], "map.tokenvaluedecoder": [[25, "module-MAP.tokenValueDecoder", false]], "map.traindpo": [[26, "module-MAP.trainDPO", false]], "map.trainppo": [[27, "module-MAP.trainPPO", false]], "map.utils": [[28, "module-MAP.utils", false]], "map_results (in module map.plot_sequential_baseline)": [[14, "MAP.plot_sequential_baseline.map_results", false]], "max_length (map.utils.lengthsampler attribute)": [[28, "MAP.utils.LengthSampler.max_length", false]], "max_new_tokens (map.gendata.textgeneration attribute)": [[4, "MAP.gendata.TextGeneration.max_new_tokens", false]], "merge_added_rewards() (map.mergeprocessor.mergeprocessor method)": [[8, "MAP.mergeProcessor.MergeProcessor.merge_added_rewards", false]], "merge_gendata_bypattern() (map.mergeprocessor.mergeprocessor method)": [[8, "MAP.mergeProcessor.MergeProcessor.merge_gendata_bypattern", false]], "mergeprocessor (class in map.mergeprocessor)": [[8, "MAP.mergeProcessor.MergeProcessor", false]], "min_length (map.utils.lengthsampler attribute)": [[28, "MAP.utils.LengthSampler.min_length", false]], "model (in module map.plot_pairwise_pareto)": [[10, "MAP.plot_pairwise_pareto.model", false]], "model (in module map.tokenvaluedecoder)": [[25, "MAP.tokenValueDecoder.model", false]], "model_setting (in module map.plot_sequential_baseline)": [[14, "MAP.plot_sequential_baseline.model_setting", false]], "module": [[1, "module-MAP.alignValues", false], [2, "module-MAP.docs.source.conf", false], [3, "module-MAP.genDPOdata", false], [4, "module-MAP.gendata", false], [5, "module-MAP.gendataGUI", false], [6, "module-MAP.generate-alpacaFinetune", false], [7, "module-MAP.getDPOsoup", false], [8, "module-MAP.mergeProcessor", false], [9, "module-MAP.plot_cal_winrate", false], [10, "module-MAP.plot_pairwise_pareto", false], [11, "module-MAP.plot_radar_tabresults", false], [12, "module-MAP.plot_rand_lambda_MAP_region", false], [13, "module-MAP.plot_reward_dist", false], [14, "module-MAP.plot_sequential_baseline", false], [15, "module-MAP.plot_tab_in_quantiles", false], [16, "module-MAP.rewardProcessor", false], [17, "module-MAP.rewardTrainer", false], [18, "module-MAP.submit_DPO_job", false], [19, "module-MAP.submit_MAP-DPO-PPO_comparison", false], [20, "module-MAP.submit_MC-aligned_pipeline", false], [21, "module-MAP.submit_PPO-aligned_pipeline", false], [22, "module-MAP.submit_jobs", false], [23, "module-MAP.submit_perplexity_correction", false], [24, "module-MAP.submit_soup", false], [25, "module-MAP.tokenValueDecoder", false], [26, "module-MAP.trainDPO", false], [27, "module-MAP.trainPPO", false], [28, "module-MAP.utils", false]], "myst_enable_extensions (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.myst_enable_extensions", false]], "nepoch (in module map.submit_ppo-aligned_pipeline)": [[21, "MAP.submit_PPO-aligned_pipeline.nepoch", false]], "optimize_lambda() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues.optimize_lambda", false]], "parser (in module map.rewardtrainer)": [[17, "MAP.rewardTrainer.parser", false]], "plot_all_setups() (in module map.plot_sequential_baseline)": [[14, "MAP.plot_sequential_baseline.plot_all_setups", false]], "plot_clevels() (in module map.plot_cal_winrate)": [[9, "MAP.plot_cal_winrate.plot_cLevels", false]], "plot_helpful_vs_harmless() (in module map.plot_cal_winrate)": [[9, "MAP.plot_cal_winrate.plot_helpful_vs_harmless", false]], "plot_hist() (in module map.plot_reward_dist)": [[13, "MAP.plot_reward_dist.plot_hist", false]], "plot_hist_positive() (in module map.plot_reward_dist)": [[13, "MAP.plot_reward_dist.plot_hist_positive", false]], "plot_lambdas_2d_subplots() (in module map.plot_rand_lambda_map_region)": [[12, "MAP.plot_rand_lambda_MAP_region.plot_lambdas_2D_subplots", false]], "plot_lambdas_3d() (in module map.plot_rand_lambda_map_region)": [[12, "MAP.plot_rand_lambda_MAP_region.plot_lambdas_3D", false]], "plot_matrix_scatterplot() (in module map.plot_pairwise_pareto)": [[10, "MAP.plot_pairwise_pareto.plot_matrix_scatterplot", false]], "plot_pareto() (in module map.plot_pairwise_pareto)": [[10, "MAP.plot_pairwise_pareto.plot_pareto", false]], "plot_radar_chart() (in module map.plot_radar_tabresults)": [[11, "MAP.plot_radar_tabresults.plot_radar_chart", false]], "plot_separate_setup() (in module map.plot_sequential_baseline)": [[14, "MAP.plot_sequential_baseline.plot_separate_setup", false]], "plot_weighted_unweighted_histograms() (in module map.plot_reward_dist)": [[13, "MAP.plot_reward_dist.plot_weighted_unweighted_histograms", false]], "plot_winrate() (in module map.plot_cal_winrate)": [[9, "MAP.plot_cal_winrate.plot_winrate", false]], "preprocess_data() (in module map.gendpodata)": [[3, "MAP.genDPOdata.preprocess_data", false]], "project (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.project", false]], "quantile_transform() (in module map.plot_pairwise_pareto)": [[10, "MAP.plot_pairwise_pareto.quantile_transform", false]], "quantile_transform_single_c() (map.rewardprocessor.rewardprocessor method)": [[16, "MAP.rewardProcessor.RewardProcessor.quantile_transform_single_c", false]], "r (in module map.plot_tab_in_quantiles)": [[15, "MAP.plot_tab_in_quantiles.r", false]], "random_string() (in module map.submit_dpo_job)": [[18, "MAP.submit_DPO_job.random_string", false]], "random_string() (in module map.submit_jobs)": [[22, "MAP.submit_jobs.random_string", false]], "random_string() (in module map.submit_map-dpo-ppo_comparison)": [[19, "MAP.submit_MAP-DPO-PPO_comparison.random_string", false]], "random_string() (in module map.submit_mc-aligned_pipeline)": [[20, "MAP.submit_MC-aligned_pipeline.random_string", false]], "random_string() (in module map.submit_perplexity_correction)": [[23, "MAP.submit_perplexity_correction.random_string", false]], "random_string() (in module map.submit_ppo-aligned_pipeline)": [[21, "MAP.submit_PPO-aligned_pipeline.random_string", false]], "random_string() (in module map.submit_soup)": [[24, "MAP.submit_soup.random_string", false]], "release (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.release", false]], "render_latex_table() (in module map.plot_cal_winrate)": [[9, "MAP.plot_cal_winrate.render_latex_table", false]], "rewardprocessor (class in map.rewardprocessor)": [[16, "MAP.rewardProcessor.RewardProcessor", false]], "rewards (map.alignvalues.alignvalues attribute)": [[1, "MAP.alignValues.AlignValues.rewards", false]], "round_1_results (in module map.plot_sequential_baseline)": [[14, "MAP.plot_sequential_baseline.round_1_results", false]], "round_5_results (in module map.plot_sequential_baseline)": [[14, "MAP.plot_sequential_baseline.round_5_results", false]], "save_model_and_tokenizer() (in module map.getdposoup)": [[7, "MAP.getDPOsoup.save_model_and_tokenizer", false]], "save_results() (map.gendata.textgeneration method)": [[4, "MAP.gendata.TextGeneration.save_results", false]], "save_results_to_csv() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues.save_results_to_csv", false]], "save_results_to_text() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues.save_results_to_text", false]], "seed (in module map.gendpodata)": [[3, "MAP.genDPOdata.seed", false]], "sequential_optimize_lambda() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues.sequential_optimize_lambda", false]], "sequential_optimize_lambda_multiround() (map.alignvalues.alignvalues method)": [[1, "MAP.alignValues.AlignValues.sequential_optimize_lambda_multiround", false]], "soup() (in module map.getdposoup)": [[7, "MAP.getDPOsoup.soup", false]], "start_time (in module map.tokenvaluedecoder)": [[25, "MAP.tokenValueDecoder.start_time", false]], "task_name (in module map.utils)": [[28, "MAP.utils.TASK_NAME", false]], "templates_path (in module map.docs.source.conf)": [[2, "MAP.docs.source.conf.templates_path", false]], "textgeneration (class in map.gendata)": [[4, "MAP.gendata.TextGeneration", false]], "tokenizer (in module map.tokenvaluedecoder)": [[25, "MAP.tokenValueDecoder.tokenizer", false]], "top_k (map.gendata.textgeneration attribute)": [[4, "MAP.gendata.TextGeneration.top_k", false]], "train_dpo() (in module map.traindpo)": [[26, "MAP.trainDPO.train_dpo", false]], "trim_to_word_boundary() (map.utils.lengthsampler method)": [[28, "MAP.utils.LengthSampler.trim_to_word_boundary", false]], "value_list (map.alignvalues.alignvalues attribute)": [[1, "MAP.alignValues.AlignValues.value_list", false]], "values_to_align_str (map.rewardprocessor.rewardprocessor attribute)": [[16, "MAP.rewardProcessor.RewardProcessor.values_to_align_str", false]], "values_to_evaluate_str (map.rewardprocessor.rewardprocessor attribute)": [[16, "MAP.rewardProcessor.RewardProcessor.values_to_evaluate_str", false]], "x_value (in module map.plot_rand_lambda_map_region)": [[12, "MAP.plot_rand_lambda_MAP_region.x_value", false]]}, "objects": {"MAP": [[1, 0, 0, "-", "alignValues"], [3, 0, 0, "-", "genDPOdata"], [4, 0, 0, "-", "gendata"], [5, 0, 0, "-", "gendataGUI"], [6, 0, 0, "-", "generate-alpacaFinetune"], [7, 0, 0, "-", "getDPOsoup"], [8, 0, 0, "-", "mergeProcessor"], [9, 0, 0, "-", "plot_cal_winrate"], [10, 0, 0, "-", "plot_pairwise_pareto"], [11, 0, 0, "-", "plot_radar_tabresults"], [12, 0, 0, "-", "plot_rand_lambda_MAP_region"], [13, 0, 0, "-", "plot_reward_dist"], [14, 0, 0, "-", "plot_sequential_baseline"], [15, 0, 0, "-", "plot_tab_in_quantiles"], [16, 0, 0, "-", "rewardProcessor"], [17, 0, 0, "-", "rewardTrainer"], [18, 0, 0, "-", "submit_DPO_job"], [19, 0, 0, "-", "submit_MAP-DPO-PPO_comparison"], [20, 0, 0, "-", "submit_MC-aligned_pipeline"], [21, 0, 0, "-", "submit_PPO-aligned_pipeline"], [22, 0, 0, "-", "submit_jobs"], [23, 0, 0, "-", "submit_perplexity_correction"], [24, 0, 0, "-", "submit_soup"], [25, 0, 0, "-", "tokenValueDecoder"], [26, 0, 0, "-", "trainDPO"], [27, 0, 0, "-", "trainPPO"], [28, 0, 0, "-", "utils"]], "MAP.alignValues": [[1, 1, 1, "", "AlignValues"]], "MAP.alignValues.AlignValues": [[1, 2, 1, "", "_dual_objective"], [1, 3, 1, "", "c"], [1, 3, 1, "id0", "file_path"], [1, 2, 1, "", "find_pareto_by_interpolation"], [1, 2, 1, "", "find_pareto_by_oneValue"], [1, 2, 1, "", "gen_rand_MAP_lambda"], [1, 2, 1, "", "optimize_lambda"], [1, 3, 1, "", "rewards"], [1, 2, 1, "", "save_results_to_csv"], [1, 2, 1, "", "save_results_to_text"], [1, 2, 1, "", "sequential_optimize_lambda"], [1, 2, 1, "", "sequential_optimize_lambda_multiround"], [1, 3, 1, "", "value_list"]], "MAP.docs.source": [[2, 0, 0, "-", "conf"]], "MAP.docs.source.conf": [[2, 4, 1, "", "author"], [2, 4, 1, "", "autoapi_dirs"], [2, 4, 1, "", "autoapi_python_use_implicit_namespaces"], [2, 4, 1, "", "autoapi_type"], [2, 4, 1, "", "copyright"], [2, 4, 1, "", "exclude_patterns"], [2, 4, 1, "", "extensions"], [2, 4, 1, "", "html_css_files"], [2, 4, 1, "", "html_js_files"], [2, 4, 1, "", "html_show_sourcelink"], [2, 4, 1, "", "html_show_sphinx"], [2, 4, 1, "", "html_theme"], [2, 4, 1, "", "html_theme_options"], [2, 4, 1, "", "imgmath_font_size"], [2, 4, 1, "", "imgmath_image_format"], [2, 4, 1, "", "myst_enable_extensions"], [2, 4, 1, "", "project"], [2, 4, 1, "", "release"], [2, 4, 1, "", "templates_path"]], "MAP.genDPOdata": [[3, 4, 1, "", "data_source"], [3, 5, 1, "", "gen_mixed_preference_data"], [3, 5, 1, "", "preprocess_data"], [3, 4, 1, "", "seed"]], "MAP.gendata": [[4, 1, 1, "", "TextGeneration"]], "MAP.gendata.TextGeneration": [[4, 3, 1, "", "basemodel_filename"], [4, 3, 1, "", "basemodel_name"], [4, 3, 1, "", "data_name"], [4, 3, 1, "", "device"], [4, 3, 1, "", "file_path"], [4, 2, 1, "", "generate_from_MC_aligned_model"], [4, 2, 1, "", "generate_from_original_model"], [4, 3, 1, "", "generation_config"], [4, 3, 1, "", "max_new_tokens"], [4, 2, 1, "", "save_results"], [4, 3, 1, "", "top_k"]], "MAP.gendataGUI": [[5, 4, 1, "", "device"], [5, 5, 1, "", "generateGUI_from_MC_aligned_model"], [5, 5, 1, "", "generateGUI_from_original_model"], [5, 4, 1, "", "iface"]], "MAP.generate-alpacaFinetune": [[6, 4, 1, "", "device"], [6, 5, 1, "", "main"]], "MAP.getDPOsoup": [[7, 5, 1, "", "save_model_and_tokenizer"], [7, 5, 1, "", "soup"]], "MAP.mergeProcessor": [[8, 1, 1, "", "MergeProcessor"]], "MAP.mergeProcessor.MergeProcessor": [[8, 2, 1, "", "merge_added_rewards"], [8, 2, 1, "", "merge_gendata_bypattern"]], "MAP.plot_cal_winrate": [[9, 4, 1, "", "base_model_file"], [9, 5, 1, "", "calculate_win_rate"], [9, 5, 1, "", "collect_multiple_results"], [9, 5, 1, "", "plot_cLevels"], [9, 5, 1, "", "plot_helpful_vs_harmless"], [9, 5, 1, "", "plot_winrate"], [9, 5, 1, "", "render_latex_table"]], "MAP.plot_pairwise_pareto": [[10, 4, 1, "", "model"], [10, 5, 1, "", "plot_matrix_scatterplot"], [10, 5, 1, "", "plot_pareto"], [10, 5, 1, "", "quantile_transform"]], "MAP.plot_radar_tabresults": [[11, 4, 1, "", "categories"], [11, 5, 1, "", "plot_radar_chart"]], "MAP.plot_rand_lambda_MAP_region": [[12, 5, 1, "", "plot_lambdas_2D_subplots"], [12, 5, 1, "", "plot_lambdas_3D"], [12, 4, 1, "", "x_value"]], "MAP.plot_reward_dist": [[13, 4, 1, "", "file_path"], [13, 5, 1, "", "plot_hist"], [13, 5, 1, "", "plot_hist_positive"], [13, 5, 1, "", "plot_weighted_unweighted_histograms"]], "MAP.plot_sequential_baseline": [[14, 4, 1, "", "categories"], [14, 4, 1, "", "data"], [14, 4, 1, "", "map_results"], [14, 4, 1, "", "model_setting"], [14, 5, 1, "", "plot_all_setups"], [14, 5, 1, "", "plot_separate_setup"], [14, 4, 1, "", "round_1_results"], [14, 4, 1, "", "round_5_results"]], "MAP.plot_tab_in_quantiles": [[15, 4, 1, "", "data"], [15, 4, 1, "", "r"]], "MAP.rewardProcessor": [[16, 1, 1, "", "RewardProcessor"], [16, 5, 1, "", "genGaussian"]], "MAP.rewardProcessor.RewardProcessor": [[16, 2, 1, "", "_assess_postalignment_singlevalue"], [16, 2, 1, "", "add_reward"], [16, 2, 1, "", "assess_original_value"], [16, 2, 1, "", "assess_postalignment_multivalue"], [16, 3, 1, "", "batch_size"], [16, 3, 1, "", "file_path"], [16, 2, 1, "", "quantile_transform_single_c"], [16, 3, 1, "", "values_to_align_str"], [16, 3, 1, "", "values_to_evaluate_str"]], "MAP.rewardTrainer": [[17, 4, 1, "", "parser"]], "MAP.submit_DPO_job": [[18, 4, 1, "", "basemodel_name"], [18, 5, 1, "", "ensure_dir"], [18, 5, 1, "", "random_string"]], "MAP.submit_MAP-DPO-PPO_comparison": [[19, 4, 1, "", "commands"], [19, 5, 1, "", "ensure_dir"], [19, 5, 1, "", "random_string"]], "MAP.submit_MC-aligned_pipeline": [[20, 4, 1, "", "basemodel_name"], [20, 5, 1, "", "ensure_dir"], [20, 5, 1, "", "random_string"]], "MAP.submit_PPO-aligned_pipeline": [[21, 5, 1, "", "ensure_dir"], [21, 4, 1, "", "nepoch"], [21, 5, 1, "", "random_string"]], "MAP.submit_jobs": [[22, 4, 1, "", "basemodel_name"], [22, 5, 1, "", "ensure_dir"], [22, 5, 1, "", "random_string"]], "MAP.submit_perplexity_correction": [[23, 4, 1, "", "basemodel_name"], [23, 5, 1, "", "ensure_dir"], [23, 5, 1, "", "random_string"]], "MAP.submit_soup": [[24, 4, 1, "", "basemodel_name"], [24, 5, 1, "", "ensure_dir"], [24, 5, 1, "", "random_string"]], "MAP.tokenValueDecoder": [[25, 4, 1, "", "device"], [25, 5, 1, "", "generate_value_aligned"], [25, 4, 1, "", "generated_text"], [25, 4, 1, "", "llama2_path"], [25, 4, 1, "", "model"], [25, 4, 1, "", "start_time"], [25, 4, 1, "", "tokenizer"]], "MAP.trainDPO": [[26, 5, 1, "", "train_dpo"]], "MAP.trainPPO": [[27, 5, 1, "", "build_dataset"], [27, 5, 1, "", "collator"], [27, 5, 1, "", "main"]], "MAP.utils": [[28, 4, 1, "", "ALL_SUPPORTED_VALUES"], [28, 1, 1, "", "LengthSampler"], [28, 4, 1, "", "TASK_NAME"], [28, 5, 1, "", "cal_coherence"], [28, 5, 1, "", "cal_diversity"], [28, 5, 1, "", "cal_gpt2_harmless_probabilities"], [28, 5, 1, "", "cal_gpt2_helpful_probabilities"], [28, 5, 1, "", "cal_harmless_probabilities"], [28, 5, 1, "", "cal_humor_probabilities"], [28, 5, 1, "", "cal_log_perplexity"], [28, 5, 1, "", "cal_positive_sentiment"], [28, 5, 1, "", "clean_and_trim_to_last_sentence"], [28, 5, 1, "", "compute_rep_n"], [28, 5, 1, "", "convert_ppo_modelname_to_huggingface_valid"], [28, 4, 1, "", "devices"], [28, 5, 1, "", "get_device"], [28, 5, 1, "", "get_model_and_tokenizer"], [28, 5, 1, "", "get_nvidia_smi_info"], [28, 5, 1, "", "get_prompts_from_Anthropic_harmless"], [28, 5, 1, "", "get_prompts_from_imdb"], [28, 5, 1, "", "get_reward"]], "MAP.utils.LengthSampler": [[28, 2, 1, "", "__call__"], [28, 3, 1, "", "max_length"], [28, 3, 1, "", "min_length"], [28, 2, 1, "", "trim_to_word_boundary"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "data", "Python data"], "5": ["py", "function", "Python function"]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:data", "5": "py:function"}, "terms": {"": [0, 1], "0": [0, 1, 2, 4, 5, 6, 7, 10, 11, 16], "016": 1, "04": 10, "06": 27, "1": [0, 1, 2, 3, 5, 7, 10, 16, 17, 21, 25, 27, 29], "10": [0, 1, 17], "100": 16, "13": 2, "139": 1, "16": [0, 17], "1e": 27, "2": [1, 25, 27], "20": 27, "2024": 2, "214": 1, "268": 1, "2d": [0, 12], "3": [0, 1, 2, 25], "32": [4, 16], "337": 1, "375": 1, "3b": [1, 9, 14, 18, 20, 22, 23, 24], "3d": [0, 12], "41e": [0, 17], "434": 1, "5": [0, 1, 16, 17], "50": [0, 3, 4, 5], "508": 1, "512": [0, 17], "513": 1, "521": 1, "534": 1, "6": [2, 3], "613": 1, "64": [0, 17], "7": 1, "7b": [6, 25], "8": [18, 19, 20, 21, 22, 23, 24], "848": 1, "876": 1, "937": 1, "967": 1, "A": 1, "But": [0, 15], "For": 1, "If": 1, "It": 1, "The": [0, 1, 8, 12, 16, 27], "_": [0, 1, 8], "__call__": 28, "_assess_postalignment_singlevalu": 16, "_dual_object": 1, "_templat": 2, "_val": 8, "aanwar": 25, "abov": [0, 8], "adamw_torch": [0, 17], "add_reward": 16, "after": 1, "align": 1, "aligned_pipelin": [], "alignment_data": 10, "alignvalu": [], "all": [0, 1, 8], "all_": 8, "all_supported_valu": 28, "allow": [0, 1], "along": [0, 13], "alpaca": 6, "alpacafinetun": [], "amsmath": 2, "ani": 1, "anthrop": [1, 9, 13, 14], "append": [0, 1], "appli": [0, 27], "appropri": 1, "ar": [0, 8, 15], "arg": 8, "argument": 0, "art_set": 11, "assess_original_valu": 16, "assess_postalignment_multivalu": 16, "assum": [0, 8], "attempt": 1, "attrs_block": 2, "attrs_inlin": 2, "author": [2, 30], "auto": 29, "autoapi": 29, "autoapi_dir": 2, "autoapi_python_use_implicit_namespac": 2, "autoapi_typ": 2, "autodoc": 2, "automat": 1, "axi": [0, 12], "balanc": 25, "base": [0, 5], "base_model": 6, "base_model_fil": [0, 9], "basemodel": 1, "basemodel_filenam": 4, "basemodel_for_perplex": [0, 16], "basemodel_nam": [0, 4, 7, 18, 20, 22, 23, 24], "batch_siz": [4, 16, 27], "been": 1, "befor": [0, 1, 8], "being": 1, "beta": [0, 7, 26], "between": [0, 1], "binari": 1, "block": 1, "bool": [1, 6, 26], "bound": 1, "build": [0, 27], "build_dataset": 27, "c": [0, 1, 10, 15], "c_high": 1, "c_i": [0, 1], "c_list": [1, 16], "c_low": 1, "cal_coher": 28, "cal_divers": 28, "cal_gpt2_harmless_prob": 28, "cal_gpt2_helpful_prob": 28, "cal_harmless_prob": 28, "cal_humor_prob": 28, "cal_log_perplex": 28, "cal_positive_senti": 28, "calcul": [0, 1, 13], "calculate_win_r": 9, "call": 0, "can": [0, 1, 15], "cannot": [0, 3], "case": 0, "categori": [11, 14], "caus": [0, 15], "chat": [1, 25], "chosen": [0, 3], "class": 0, "clean_and_trim_to_last_sent": 28, "close": [0, 15], "closest": 1, "code": 2, "coeffici": 1, "coher": [11, 28], "collat": 27, "collect_multiple_result": 9, "colnam": 16, "colon_f": 2, "column": [0, 13], "column_nam": 10, "com": 2, "combin": 1, "command": [1, 19], "compute_rep_n": 28, "conf": [], "config": [0, 27], "confus": [0, 15], "consid": 1, "constant": 1, "constrain": [0, 1], "constraint": 1, "contact": 30, "contain": [0, 1, 12, 29], "continu": [1, 28], "convers": [0, 28], "convert": [0, 28], "convert_ppo_modelname_to_huggingface_valid": 28, "copyright": 2, "correspond": [0, 1], "creat": [0, 12, 29], "csv": [0, 1, 12], "csv_path": [0, 10], "cuda": [4, 6], "current": [0, 1, 3], "data": [0, 1, 14, 15, 27], "data_nam": [0, 4, 27], "data_sourc": [0, 3], "dataload": [0, 27], "dataset": [0, 1, 27], "debug": [0, 16, 25], "decoded_output": 28, "def": 0, "default": 1, "deflist": 2, "descent": 1, "detail": [0, 1, 15], "devic": [4, 5, 6, 25, 28], "dialog": [0, 3], "dict": [0, 3], "dingj": [], "directori": [0, 8, 18, 19, 20, 21, 22, 23, 24], "dirichlet": [0, 1], "dirichlet_lambda": [0, 1], "dirichlet_lambda_ref": [0, 12], "disk": 0, "distribut": [0, 13], "divers": [11, 28], "document": 29, "dollarmath": 2, "dot": [0, 12], "dpo": [], "draw": [0, 1], "dual": 1, "dual_object": [], "dure": 1, "e": [0, 12], "each": [0, 1, 8, 12, 13], "edu": 30, "empti": [0, 16], "end": [0, 8], "end_index": 4, "enhanc": 1, "enjoi": 30, "ensur": [0, 28], "ensure_dir": [18, 19, 20, 21, 22, 23, 24], "entri": [0, 8], "equal": [0, 16], "evaluation_mod": 16, "evaluation_strategi": [0, 17], "exampl": [0, 1, 3, 8], "exclude_pattern": 2, "execut": 1, "exist": [0, 16], "ext": 2, "extens": 2, "f": 1, "factor": [0, 1, 7], "failur": 0, "fals": [0, 1, 2, 8, 16, 17, 25, 26], "feasibl": 1, "fieldlist": 2, "file": [0, 1, 8, 12, 13, 16], "file_path": [0, 1, 4, 12, 13, 16], "file_prefix": [0, 9], "filenam": [0, 8, 10], "final": [0, 1, 8], "final_lambda": 1, "find": 1, "find_pareto_by_interpol": 1, "find_pareto_by_onevalu": 1, "first": [0, 3], "float": [1, 26], "folder": [0, 8], "format": [0, 3], "found": 1, "freez": 1, "from": [0, 1, 27], "front": [0, 10], "frontier": 1, "full": 1, "function": [0, 1], "futur": 1, "g": [0, 12], "gen_mixed_preference_data": 3, "gen_rand_map_lambda": 1, "gendata": [], "gendatagui": [], "gendpodata": [], "gener": [1, 5, 10, 25, 29], "generate_from_mc_aligned_model": 4, "generate_from_original_model": 4, "generate_value_align": 25, "generated_text": 25, "generategui_from_mc_aligned_model": 5, "generategui_from_original_model": 5, "generation_config": 4, "gengaussian": 16, "get_devic": 28, "get_model_and_token": 28, "get_nvidia_smi_info": 28, "get_prompts_from_anthropic_harmless": 28, "get_prompts_from_imdb": [0, 27, 28], "get_reward": 28, "getdposoup": [], "github": 30, "gitrepo": [], "given": 1, "glob": [0, 8], "gpt2": [0, 1, 12, 17, 28], "gradient": 1, "gradient_accumulation_step": [0, 17], "gradient_checkpoint": [0, 17], "greedili": 1, "ha": [0, 8, 16], "handl": 1, "harmless": [0, 1, 3, 9, 11, 12, 13, 14, 28], "harmless_lambda": [0, 7], "harmless_ratio": [0, 9, 26], "have": [0, 1, 3], "help": [0, 1, 3, 9, 11, 12, 28], "home": [25, 30], "html_css_file": 2, "html_js_file": 2, "html_show_sourcelink": 2, "html_show_sphinx": 2, "html_theme": 2, "html_theme_opt": 2, "http": [2, 30], "huggingfac": [0, 28], "human": 1, "humor": [1, 11, 28], "i": [0, 1, 3, 12, 16, 28, 30], "idx": 1, "ifac": 5, "imgmath_font_s": 2, "imgmath_image_format": 2, "includ": [0, 1, 8], "increas": 1, "indic": 1, "inform": 1, "initi": 1, "input": [0, 5, 10, 13], "instanc": 1, "int": [1, 26], "intend": [0, 10, 13], "interpol": [0, 1, 7], "interv": [0, 25], "invas": [0, 16], "io": 30, "its": [0, 8], "j": 2, "jqueri": 2, "json": [0, 1, 8, 9, 13, 16], "json_fil": [0, 13], "json_file_pattern": [0, 8], "k": [1, 16], "keep": 1, "l1": [0, 1], "lam": [13, 16], "lam_list": [4, 5, 27], "lambda": [0, 1, 12], "lambda_init": 1, "lambda_v": 1, "latex": [0, 9], "learning_r": [0, 17, 27], "leav": [0, 15], "len": 1, "length": [0, 18, 19, 20, 21, 22, 23, 24, 25, 28], "lengthsampl": 28, "level": [0, 1, 8, 15], "line": 1, "linear": 1, "list": [0, 1, 9, 12], "llama": 25, "llama27b": 1, "llama2_chat": [10, 13], "llama2_path": 25, "load": [0, 27], "load_8bit": 6, "locat": [0, 8], "logging_step": [0, 17], "lora": 6, "lora_weight": 6, "lower": 1, "mai": 1, "main": [6, 27], "mani": [0, 3], "map": 0, "map_result": 14, "match": [0, 8], "mathjax": 2, "max_decode_length": [0, 25], "max_length": [0, 17, 28], "max_new_token": [0, 4, 5], "max_valu": 1, "max_word": [0, 3], "maxim": 1, "maximum": [0, 1, 25], "mc_nsampl": [4, 5], "mean": [0, 16], "merg": [0, 8], "merge_added_reward": 8, "merge_gendata_bypattern": 8, "mergeprocessor": [], "method": 1, "metric": [0, 9], "min": 2, "min_length": 28, "mini_batch_s": 27, "model": [0, 1, 7, 10, 25, 28], "model_choic": 5, "model_fil": [0, 9], "model_nam": [11, 27, 28], "model_name_or_path": [0, 17], "model_output": 25, "model_scor": 11, "model_set": 14, "modifi": [0, 1], "more": [0, 8], "most": 1, "move": [0, 8], "multipl": [0, 1, 9], "myst_enable_extens": 2, "myst_pars": 2, "n": [1, 16, 28], "name": [0, 1, 12, 15, 27, 28], "nan": 0, "napoleon": 2, "nepoch": [21, 27], "new": 0, "next": 1, "non": [0, 16], "none": [0, 1, 4, 9, 10, 16, 28], "norm": [0, 1], "note": [0, 3], "num_beam": [0, 5], "num_lambda": [0, 1], "num_train_epoch": [0, 17], "number": [0, 1], "object": 1, "obtain": 1, "one": [0, 1, 8, 12], "opt1": [1, 9, 14, 18, 20, 22, 23, 24], "optim": [0, 1, 17], "optimize_indic": 1, "optimize_lambda": 1, "optimized_lambda": [0, 1, 12], "option": 1, "origin": [0, 1, 8, 16], "original_file_path": [0, 8], "other": [0, 1, 5, 12], "otherwis": [0, 1, 8], "out": [0, 15], "output": [0, 12], "output_dir": [0, 17], "output_fil": 11, "output_prefix": [0, 12], "over": [0, 9, 12], "overlai": [0, 12], "overwrit": [0, 8], "overwritten": [0, 16], "p": [0, 3], "page": 29, "pair": 1, "palatt": 1, "palett": 1, "paper": [0, 15], "paramet": [0, 1, 5, 12, 27], "pareto": [0, 1, 10], "parser": 17, "particular": 1, "path": [0, 1, 10, 12, 13, 28], "pattern": [0, 8], "pdf": [0, 12], "per_device_train_batch_s": [0, 17], "perfectli": [0, 15], "perform": 1, "perplex": [11, 28], "plot": [0, 9, 12, 13], "plot_all_setup": 14, "plot_cal_winr": [], "plot_clevel": 9, "plot_helpful_vs_harmless": 9, "plot_hist": 13, "plot_hist_posit": 13, "plot_lambdas_2d_subplot": 12, "plot_lambdas_3d": 12, "plot_matrix_scatterplot": 10, "plot_pairwise_pareto": [], "plot_pareto": 10, "plot_radar_chart": 11, "plot_radar_tabresult": [], "plot_rand_lambda_map_region": [], "plot_reward_dist": [], "plot_separate_setup": 14, "plot_sequential_baselin": [], "plot_tab_in_quantil": [], "plot_weighted_unweighted_histogram": 13, "plot_winr": 9, "posit": [0, 13], "ppo": [0, 28], "ppo_comparison": [], "ppo_model_nam": [0, 28], "prefix": [0, 1], "preprocess_data": 3, "print": 1, "process": [0, 16], "project": 2, "prompt": [0, 1, 5, 25, 27, 28], "prompt_templ": 6, "provid": 1, "py": [0, 1, 7, 17], "python": [0, 1, 2, 17], "quantil": [0, 15], "quantile_transform": 10, "quantile_transform_single_c": 16, "r": 15, "rais": 1, "rand_map_lambda": [0, 1], "random": [0, 1], "random_str": [18, 19, 20, 21, 22, 23, 24], "randomli": [0, 1, 10], "rate": [0, 1, 9], "reader": [0, 15], "real": [0, 15], "recalcul": [0, 1], "refer": [0, 1], "reject": [0, 3], "releas": 2, "remov": [0, 8], "remove_unused_column": [0, 17], "render": [0, 9], "render_latex_t": 9, "replac": 1, "report_to": [0, 17], "represent": [0, 15], "restor": 1, "result": [0, 1, 4, 8, 9, 13, 15, 17], "return": [0, 1, 27], "reward": [0, 1, 8, 13, 16], "reward_filepath": 10, "reward_modeling_anthropic_hh": [0, 17], "rewardprocessor": [], "rewardtrain": [], "rho": [1, 16], "round": [0, 1, 3], "round_1_result": 14, "round_5_result": 14, "row": [0, 8], "run": 1, "same": [0, 7], "sampl": [0, 1, 3], "sample_s": [0, 3, 7, 26], "satisfi": 1, "save": [0, 1, 8, 9, 12], "save_directori": 4, "save_model_and_token": 7, "save_path": [0, 7, 13, 26, 27], "save_prefix": [0, 1], "save_result": 4, "save_results_to_csv": 1, "save_results_to_text": 1, "save_to_temp_fold": [0, 8], "scale": 16, "scaling_max": [0, 1, 16], "script": [0, 15], "sd": 16, "search": 1, "seed": 3, "semi": [0, 12], "sentenc": [0, 13, 28], "sentiment_control": 0, "sequenti": 1, "sequential_optimize_lambda": 1, "sequential_optimize_lambda_multiround": 1, "server_nam": 6, "set": 1, "sever": [0, 12], "shape": 1, "share_gradio": 6, "show": [0, 10, 13], "singl": [0, 1, 8], "singlevalue_to_evalu": 16, "size": [0, 1, 3], "small": [0, 3], "so": [0, 3], "solut": 1, "soup": 7, "specif": [0, 1, 8, 12], "specifi": 1, "sphinx": [2, 29], "sphinx_rtd_them": 2, "split": [0, 3], "start": 1, "start_index": 4, "start_tim": 25, "step": [0, 17], "store": 1, "str": [0, 1, 6, 8, 27], "submit_dpo_job": [], "submit_job": [], "submit_map": [], "submit_mc": [], "submit_perplexity_correct": [], "submit_ppo": [], "submit_soup": [], "subplot": [0, 12], "subplot_nam": 13, "success": [0, 1], "success_r": 1, "summar": [0, 9], "support": [0, 1, 3], "svg": 2, "tab": [0, 15], "tabl": [0, 9], "target": [0, 1, 15], "task_nam": 28, "temp": [0, 8], "temperatur": [0, 5], "templates_path": 2, "temporarili": 1, "tensor": 1, "test": [0, 3], "text": [0, 1, 5, 25, 28], "textgener": 4, "thei": [0, 15], "them": 1, "thi": [0, 1, 8, 15, 29, 30], "time": 0, "title_text": 11, "tloen": 6, "token": [0, 7, 25, 27, 28], "tokenvaluedecod": [], "too": [0, 3], "top_k": [0, 4, 5, 25], "torch": [0, 1, 27], "tradeoff": [0, 10], "train": [0, 3, 27, 28], "train_dpo": 26, "traindpo": 7, "trainppo": [], "transpar": [0, 12], "trim_to_word_boundari": 28, "true": [0, 1, 2, 6, 8, 10, 16, 17, 28], "tupl": [0, 1], "turn": [0, 15], "two": 1, "txt": 1, "type": [1, 27], "umn": 30, "updat": 1, "upper": 1, "us": [0, 1, 27, 30], "usag": 1, "use_lora": 26, "use_quantile_transform": 10, "use_scor": 28, "user": [], "util": 27, "v0": 2, "val": 0, "valid": [0, 1, 28], "valu": [0, 1, 10, 12, 13, 16, 25, 28], "value1": 10, "value2": 10, "value_list": [1, 4, 5, 27], "value_param": [0, 25], "value_to_enh": 1, "valueerror": 1, "values_to_align": [13, 16], "values_to_align_str": 16, "values_to_evalu": [13, 16], "values_to_evaluate_str": 16, "vector": 1, "verbos": 1, "wa": 1, "wandb": [0, 17], "wang": [2, 30], "wang8740": [25, 30], "we": [0, 8, 15], "where": 1, "whether": 1, "while": 1, "win": [0, 9], "win_rate_results_list": [0, 9], "wise": 1, "within": [0, 8], "x": [0, 12], "x_list": 10, "x_valu": [0, 12], "xinran": [2, 30], "xlim": 10, "y": [0, 12], "y_list": 10, "y_valu": [0, 12], "ylim": 10, "z": [0, 12], "z_valu": [0, 12]}, "titles": ["submit_DPO_job", "MAP.alignValues", "MAP.docs.source.conf", "MAP.genDPOdata", "MAP.gendata", "MAP.gendataGUI", "MAP.generate-alpacaFinetune", "MAP.getDPOsoup", "MAP.mergeProcessor", "MAP.plot_cal_winrate", "MAP.plot_pairwise_pareto", "MAP.plot_radar_tabresults", "MAP.plot_rand_lambda_MAP_region", "MAP.plot_reward_dist", "MAP.plot_sequential_baseline", "MAP.plot_tab_in_quantiles", "MAP.rewardProcessor", "MAP.rewardTrainer", "MAP.submit_DPO_job", "MAP.submit_MAP-DPO-PPO_comparison", "MAP.submit_MC-aligned_pipeline", "MAP.submit_PPO-aligned_pipeline", "MAP.submit_jobs", "MAP.submit_perplexity_correction", "MAP.submit_soup", "MAP.tokenValueDecoder", "MAP.trainDPO", "MAP.trainPPO", "MAP.utils", "API Reference", "Welcome to MAP Documentation"], "titleterms": {"add_reward": 0, "aligned_pipelin": [0, 20, 21], "alignvalu": [0, 1], "alpacafinetun": [0, 6], "api": [29, 30], "attribut": [2, 3, 5, 6, 9, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 22, 23, 24, 25, 28], "build_dataset": 0, "class": [1, 4, 8, 16, 28], "collect_multiple_result": 0, "conf": 2, "content": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28], "convert_ppo_modelname_to_huggingface_valid": 0, "doc": 2, "document": 30, "dpo": [0, 19], "function": [3, 5, 6, 7, 9, 10, 11, 12, 13, 14, 16, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28], "gen_mixed_preference_data": 0, "gen_rand_map_lambda": 0, "gendata": [0, 4], "gendatagui": [0, 5], "gendpodata": [0, 3], "gener": [0, 6], "generate_value_align": 0, "generategui_from_original_model": 0, "getdposoup": [0, 7], "map": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 30], "merge_added_reward": 0, "merge_gendata_bypattern": 0, "mergeprocessor": [0, 8], "modul": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28], "object": 0, "plot_cal_winr": [0, 9], "plot_helpful_vs_harmless": 0, "plot_hist": 0, "plot_hist_posit": 0, "plot_lambdas_2d_subplot": 0, "plot_lambdas_3d": 0, "plot_matrix_scatterplot": 0, "plot_pairwise_pareto": [0, 10], "plot_radar_tabresult": [0, 11], "plot_rand_lambda_map_region": [0, 12], "plot_reward_dist": [0, 13], "plot_sequential_baselin": [0, 14], "plot_tab_in_quantil": [0, 15], "ppo_comparison": [0, 19], "preprocess_data": 0, "refer": [29, 30], "render_latex_t": 0, "rewardprocessor": [0, 16], "rewardtrain": [0, 17], "save_results_to_csv": 0, "save_results_to_text": 0, "soup": 0, "sourc": 2, "submit_dpo_job": [0, 18], "submit_job": [0, 22], "submit_map": [0, 19], "submit_mc": [0, 20], "submit_perplexity_correct": [0, 23], "submit_ppo": [0, 21], "submit_soup": [0, 24], "task_nam": 0, "tokenvaluedecod": [0, 25], "traindpo": [0, 26], "trainppo": [0, 27], "util": [0, 28], "welcom": 30}})